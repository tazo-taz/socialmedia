(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{238:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var a,r,c,i,s,o,u,l,d,b,j,p,f,O=n(0),m=n.n(O),x=n(26),h=n.n(x),g=(n(238),n(24)),v=n(27),y=n(35),w=n(9),k=n.n(w),S=n(18),C=n(22),N=n.n(C),M=function(){return N()({method:"get",withCredentials:!0,url:"/user"})},D=function(e){return N.a.post("/signin",e)},E=function(e){return N.a.post("/signup",e)},P=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,a,r,c=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:null){e.next=7;break}return e.next=4,M();case 4:a=e.sent,(r=a.data.data)&&(n=r);case 7:t({type:"setUser",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(S.a)(k.a.mark((function e(t,n){var a,r,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n);case 2:if(a=e.sent,r=a.data,c=r.data,!(i=r.error)){e.next=8;break}return e.abrupt("return",{error:i});case 8:if(!c){e.next=11;break}return t({type:"setUser",payload:c}),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(k.a.mark((function e(t,n){var a,r,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n);case 2:if(a=e.sent,r=a.data,c=r.data,!(i=r.error)){e.next=8;break}return e.abrupt("return",{error:i});case 8:if(!c){e.next=11;break}return t({type:"setUser",payload:c}),e.abrupt("return",{});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("/user");case 2:t({type:"setUser",payload:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=n(12),R=n(17),W=n(4),F=n(2),T=n(8),H=n(345),q=n(373),L=n(372),B=n(374),_=n(143),V=n(46),Y=n(194),G=n.n(Y),J=n(20),Z=n(23),K=Z.a.div(a||(a=Object(J.a)(["\n  flex: 1;\n  display: grid;\n  place-items: center;\n"]))),Q=Z.a.div(r||(r=Object(J.a)(["\n  display: flex;\n  place-items: center;\n"]))),X=Z.a.div(c||(c=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),$=Z.a.div(i||(i=Object(J.a)(["\n  display: flex;\n"]))),ee=Z.a.div(s||(s=Object(J.a)(["\n  display: flex;\n  align-items: center;\n"]))),te=Z.a.div(o||(o=Object(J.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),ne=Z.a.div(u||(u=Object(J.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),ae=Z.a.div(l||(l=Object(J.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 10px 0;\n"]))),re={color:"black",textDecoration:"none"},ce={color:"white",textDecoration:"none"},ie=Z.a.p(d||(d=Object(J.a)(["\n  cursor: pointer;\n  padding: 10px 20px;\n  transition: 0.3s;\n\n  &:hover {\n    background: #f6f6f6;\n  }\n"]))),se=Z.a.button(b||(b=Object(J.a)(["\n  display: -webkit-inline-box;\n  display: -webkit-inline-flex;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  position: relative;\n  box-sizing: border-box;\n  -webkit-tap-highlight-color: transparent;\n  background-color: transparent;\n  outline: 0;\n  border: 0;\n  margin: 0;\n  border-radius: 0;\n  padding: 0;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  vertical-align: middle;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  -webkit-text-decoration: none;\n  text-decoration: none;\n  color: inherit;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  font-weight: 500;\n  font-size: 0.875rem;\n  line-height: 1.75;\n  letter-spacing: 0.02857em;\n  text-transform: uppercase;\n  min-width: 64px;\n  padding: 6px 16px;\n  border-radius: 4px;\n  -webkit-transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\n    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n  color: #fff;\n  background-color: #1976d2;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n"]))),oe=Z.a.div(j||(j=Object(J.a)(["\n  position: absolute;\n  padding: 10px;\n  background: white;\n  right: 0;\n  width: 350px;\n  border-radius: 5px;\n  top: 100%;\n  box-shadow: 0 0 5px #0000004d;\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  max-height: 432px;\n  overflow-y: auto;\n"]))),ue=Z.a.div(p||(p=Object(J.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9;\n"]))),le=Z.a.img(f||(f=Object(J.a)(["\n  height: 35px;\n  width: 35px;\n  border-radius: 50%;\n  object-fit: cover;\n"]))),de=function(e){return(e||document.location.search).replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]},be=n(363),je=n(351),pe=n(188),fe=n.n(pe),Oe=n(375),me=n(1);function xe(e){var t=e.items,n=void 0===t?[]:t,a=e.Icon,r=e.style,c=a||Object(me.jsx)(Oe.a,{style:Object(A.a)({padding:0},r),"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",children:Object(me.jsx)(fe.a,{})}),i=m.a.useState(null),s=Object(W.a)(i,2),o=s[0],u=s[1],l=Boolean(o),d=function(e){e.stopPropagation(),u(null)};return Object(me.jsxs)("div",{style:{position:"relative",display:"inline-block"},children:[Object(me.jsx)("div",{onClick:function(e){e.stopPropagation(),u(e.currentTarget)},children:c}),Object(me.jsx)(be.a,{id:"fade-menu",anchorEl:o,keepMounted:!0,open:l,onClose:d,TransitionComponent:je.a,children:n.map((function(e){var t=e.title,n=e.onClick,a=void 0===n?function(){}:n;return Object(me.jsx)(ie,{onClick:function(e){e.stopPropagation(),a(e),d(e)},children:t},t)}))})]})}var he=n(193),ge=n.n(he),ve=n(369),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.chat,a=void 0===n?"1":n,r=t.messages,c=void 0===r?"1":r;return N.a.get("/chatmessages/"+e+"?chat=".concat(a,"&messages=").concat(c))},we=function(e,t){var n=t.message,a=t.notification,r=void 0===a?0:a;return N.a.post("/chatmessage/"+e,{message:n,notification:r})},ke=function(e){return N.a.put("/seenchat/"+e)},Se=function(e){return N.a.get("/privateconnection/"+e)},Ce=function(e){return N.a.post("/room",e)},Ne=function(e,t){return N.a.put("/room/"+e,t)},Me=function(e){return N.a.delete("/room/"+e)},De=function(e,t,n,a){if(!t.find((function(e){return e.uid==n}))){var r={open:!0,uid:n};a&&(r.data=a),e({type:"ADD_CHAT",payload:r})}},Ee=function(){var e=Object(S.a)(k.a.mark((function e(t,n,a,r){var c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=+t,e.next=3,Se(t);case 3:c=e.sent,i=c.data.data,console.log(i),De(n,a,i,r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Pe=function(e,t){return e({type:"CLOSE_CHAT",payload:t})},ze=function(e,t){return e({type:"UPDATE_NAVBAR_MESSAGES",payload:t})},Ue=n(189),Ie=n.n(Ue),Ae=n(192),Re=n.n(Ae);function We(e,t){var n=e.header,a=e.content,r=e.onOpen,c=void 0===r?function(){}:r,i=Object(O.useState)(!1),s=Object(W.a)(i,2),o=s[0],u=s[1];return Object(O.useEffect)((function(){o&&c()}),[o]),Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)(Oe.a,{onClick:function(){return u(!o)},children:n}),o&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ue,{ref:t,onClick:function(){return u(!1)}}),Object(me.jsx)(oe,{children:a})]})]})}var Fe=Object(O.forwardRef)(We),Te=n(376);function He(e){var t=e.height,n=void 0===t?"auto":t,a=e.width,r=e.style,c=void 0===r?{}:r;return Object(me.jsx)("div",{className:"center",style:Object(A.a)({height:n+"px",width:a?a+"px":"100%"},c),children:Object(me.jsx)(L.a,{sx:{display:"flex"},children:Object(me.jsx)(Te.a,{})})})}function qe(e){var t=e.src,n=void 0===t?"":t,a=e.Element,r=e.loadingHeight,c=e.loadingWidth,i=e.noImg,s=void 0===i?"/images/other/noimage.png":i,o=e.loadingStyle,u=void 0===o?{}:o,l=Object(O.useState)(!1),d=Object(W.a)(l,2),b=d[0],j=d[1];function p(){j(!0)}function f(){j("error")}return Object(O.useEffect)((function(){!function(e){var t=new Image;t.onload=p,t.onerror=f,t.src=e}(n)}),[n]),Object(me.jsx)(me.Fragment,{children:b?Object(me.jsx)(me.Fragment,{children:a?Object(me.jsx)(a,{src:"error"==b?s:n}):Object(me.jsx)("img",{src:"error"==b?s:n,style:{height:+r,width:+c}})}):Object(me.jsx)(He,{height:r,width:c,style:u})})}var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.search,n=void 0===t?"":t,a=e.limit,r=void 0===a?10:a,c=e.page,i=void 0===c?1:c,s=e.noEmailSearch,o=void 0===s?"":s;return N.a.get("/users?search=".concat(n,"&limit=").concat(r,"&page=").concat(i,"&noEmailSearch=").concat(o))},Be=function(e){return N.a.get("/user/"+e)},_e=function(e){return N.a.post("/sendrequest/"+e)},Ve=function(e){return N.a.delete("/sendrequest/"+e)},Ye=function(e){return N.a.delete("/recieverequest/"+e)},Ge=function(e){return N.a.post("/friend/"+e)},Je=function(e){return N.a.delete("/friend/"+e)},Ze=function(e){return N.a.get("/userconnection/"+e)},Ke=function(e,t){return N.a.put("/user/"+e,t)};function Qe(e){var t=e.item,n=e.setNotifications;return console.log(t),Object(me.jsxs)(ee,{children:[Object(me.jsx)(qe,{loadingHeight:"30",loadingWidth:"30",Element:le,src:"/images/user/"+t.image}),Object(me.jsxs)(X,{className:"ml-2",children:[Object(me.jsxs)("div",{children:["Sended request to ",t.username]}),Object(me.jsx)("div",{children:Object(me.jsx)(se,{className:"mt-1 p-1 bg-red",onClick:function(){var e;e=t.valueUid,N.a.delete("/sendrequestbyuid/"+e),n((function(e){return e.filter((function(e){return e.uid!==t.uid}))}))},children:"Cancel"})})]})]})}function Xe(e){var t=e.item,n=e.setNotifications;return console.log(t),Object(me.jsxs)(ee,{children:[Object(me.jsx)(qe,{loadingHeight:"30",loadingWidth:"30",Element:le,src:"/images/user/"+t.image}),Object(me.jsxs)(X,{className:"ml-2",children:[Object(me.jsxs)("div",{children:["Sended request from ",t.username]}),Object(me.jsxs)("div",{children:[Object(me.jsx)(se,{className:"mt-1 p-1 bg-red",onClick:function(){var e;e=t.valueUid,N.a.delete("/recieverequestByUid/"+e),n((function(e){return e.filter((function(e){return e.uid!==t.uid}))}))},children:"Cancel"}),Object(me.jsx)(se,{className:"mt-1 ml-1 p-1",onClick:function(){var e;e=t.valueUid,N.a.post("/friendbyuid/"+e),n((function(e){return e.filter((function(e){return e.uid!==t.uid}))}))},children:"Accept"})]})]})]})}var $e=n(16),et=n(361),tt=function(e,t,n){var a=e.target.value,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};n((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(F.a)({},t,a))})),r()},nt=function(e,t,n){return n((function(n){return Object(A.a)(Object(A.a)({},n),{},Object(F.a)({},t,e))}))},at=n(364),rt=n(360),ct=n(190),it=n.n(ct),st=n(191),ot=n.n(st),ut=["items","titleName","placeholder","onChange"],lt=Object(me.jsx)(it.a,{fontSize:"small"}),dt=Object(me.jsx)(ot.a,{fontSize:"small"});function bt(e){var t=e.items,n=void 0===t?[]:t,a=e.titleName,r=void 0===a?"name":a,c=e.placeholder,i=void 0===c?"":c,s=e.onChange,o=void 0===s?function(){}:s,u=Object(R.a)(e,ut);return Object(me.jsx)(rt.a,Object(A.a)(Object(A.a)({},u),{},{multiple:!0,id:"checkboxes-tags-demo",options:n,onChange:function(e,t){o(t)},disableCloseOnSelect:!0,getOptionLabel:function(e){return e[r]},renderOption:function(e,t,n){var a=n.selected;return Object(me.jsxs)("li",Object(A.a)(Object(A.a)({},e),{},{children:[Object(me.jsx)(at.a,{icon:lt,checkedIcon:dt,style:{marginRight:8},checked:a}),t[r]]}))},renderInput:function(e){return Object(me.jsx)(et.a,Object(A.a)(Object(A.a)({},e),{},{label:"",placeholder:i}))}}))}var jt=n(367),pt=n(380),ft=n(357),Ot=n(356),mt=n(381);function xt(e){var t=e.open,n=e.setOpen,a=e.children,r=e.onSave,c=void 0===r?function(){}:r,i=e.header,s=e.maxWidth,o=void 0===s?"sm":s,u=e.onSaveAvaible,l=void 0===u||u,d=e.noBtns,b=void 0!==d&&d,j=function(){n(!1)};return Object(me.jsx)("div",{children:Object(me.jsxs)(pt.a,{open:t,onClose:j,"aria-labelledby":"form-dialog-title",maxWidth:o,fullWidth:!0,children:[Object(me.jsx)(mt.a,{id:"form-dialog-title",children:i||"Modal"}),Object(me.jsx)(Ot.a,{children:a}),!b&&Object(me.jsxs)(ft.a,{children:[Object(me.jsx)(jt.a,{onClick:j,color:"primary",children:"Cancel"}),l&&Object(me.jsx)(jt.a,{onClick:function(){c()},color:"primary",children:"Save"})]})]})})}var ht=["additionalData","data","setData","open","setOpen","type","onSave","defaultValue"];function gt(e){var t=e.additionalData,n=void 0===t?[]:t,a=e.data,r=e.setData,c=e.open,i=e.setOpen,s=e.type,o=e.onSave,u=e.defaultValue,l=void 0===u?function(){}:u,d=Object(R.a)(e,ht),b=Object(g.c)((function(e){return e})).user,j=Object(O.useState)([]),p=Object(W.a)(j,2),f=p[0],m=p[1],x=function(){var e=Object(S.a)(k.a.mark((function e(){var t,a,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/myfriends");case 2:t=e.sent,a=t.data.data,c=a.map((function(e){return{value:b.uid===e.user1?e.user2:e.user1,name:e.name}})).filter((function(e){return!n.find((function(t){return t.value===e.value}))})),i=[].concat(Object($e.a)(c),Object($e.a)(n)),m(i),console.log(),nt(l(i)||[],"users",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){console.log(c),c&&x()}),[c]),console.log(a);var h=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.name,n=a.users,r=a.uid,t&&n.length){e.next=3;break}return e.abrupt("return",alert("Please fill all the fields"));case 3:if(n=n.map((function(e){return e.value})),c={name:t,users:n},"create"!==s){e.next=12;break}return e.next=8,Ce(c);case 8:o({name:t,users:n,friends:f,type:s}),i(!1),e.next=17;break;case 12:if("update"!==s){e.next=17;break}return e.next=15,Ne(r,c);case 15:o({name:t,users:n,friends:f,type:s}),i(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?Object(me.jsx)(xt,Object(A.a)(Object(A.a)({open:c,setOpen:i,onSave:h},d),{},{children:Object(me.jsxs)(X,{className:"gap-2",children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"Room name",variant:"outlined",size:"small",fullWidth:!0,value:a.name,onChange:function(e){return tt(e,"name",r)}}),Object(me.jsx)(bt,{size:"small",value:a.users,items:f,placeholder:"Your friends",onChange:function(e){console.log(e,123),nt(e,"users",r)}})]})})):""}function vt(e){var t=e.item,n=e.collisionRef;return Object(me.jsx)("div",{children:Object(me.jsxs)(ee,{children:[Object(me.jsx)(qe,{loadingHeight:"30",loadingWidth:"30",Element:le,src:"/images/other/comment.png"}),Object(me.jsxs)("p",{children:[Object(me.jsx)("span",{style:{fontWeight:700},children:t.username})," commented on your post",Object(me.jsx)("p",{className:"mt-1",style:{color:"#b6b6b6",fontSize:13},children:t.value}),Object(me.jsx)(se,{className:"mt-1 p-1",onClick:function(){return n.current.click()},children:Object(me.jsx)(y.b,{style:ce,to:"/post/"+t.valueUid,children:"View post"})})]})]})})}var yt=Object(T.a)("div")((function(e){var t=e.theme;return Object(F.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(H.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(H.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),wt=Object(T.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),kt=Object(T.a)(V.c)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(F.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function St(){var e=Object(v.h)(),t=de(),n=t.category,a=void 0===n?"user":n,r=t.value,c=m.a.useState(r),i=Object(W.a)(c,2),s=i[0],o=i[1],u=Object(g.c)((function(e){return e})),l=u.user,d=u.chats,b=u.navbarMessages,j=Object(g.b)(),p=Object(O.useState)([]),f=Object(W.a)(p,2),x=f[0],h=f[1],w={name:"",users:[]},C=Object(O.useState)(!1),M=Object(W.a)(C,2),D=M[0],E=M[1],P=Object(O.useState)(w),z=Object(W.a)(P,2),U=z[0],R=z[1],F=Object(O.useState)(w),T=Object(W.a)(F,2),H=T[0],V=T[1],Y=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/chatsandnotifications");case 2:t=e.sent,(n=t.data.data)&&ze(j,n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/notifications");case 2:t=e.sent,(n=t.data.data)&&h(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){Y(),J()}),[]);var Z=b.reduce((function(e,t){return e+{0:1,1:0}[t.seen]}),0),K=Object(O.useRef)(),Q=x.reduce((function(e,t){return e+(t.seen?0:1)}),0);return Object(me.jsx)(L.a,{className:"mb-3",children:Object(me.jsx)(q.a,{position:"static",style:{backgroundColor:"var(--blue)"},children:Object(me.jsxs)(B.a,{children:[Object(me.jsx)(_.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:Object(me.jsx)(y.b,{to:"/",style:ce,children:"Facebook"})}),Object(me.jsxs)(ee,{style:{gap:10},children:[l&&Object(me.jsx)(y.b,{style:ce,to:"/profile/"+l.uid,children:l.fName}),Object(me.jsx)(Fe,{onOpen:function(){N.a.put("/seennotifications")},ref:K,header:Object(me.jsx)(ve.a,{badgeContent:String(Q),color:"error",children:Object(me.jsx)(Re.a,{style:{color:"white"}})}),content:Object(me.jsxs)(me.Fragment,{children:[!x.length&&"No notifications",x.map((function(e){return Object(me.jsx)("div",{children:{requestFrom:Object(me.jsx)(Qe,{setNotifications:h,item:e}),requestTo:Object(me.jsx)(Xe,{setNotifications:h,item:e}),postComment:Object(me.jsx)(vt,{item:e,collisionRef:K})}[e.type]},e.uid)}))]})}),Object(me.jsx)(Fe,{header:Object(me.jsx)(ve.a,{badgeContent:String(Z),color:"error",children:Object(me.jsx)(ge.a,{style:{color:"white"}})}),content:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(se,{onClick:function(){E(!0),R(w),V("create")},children:"Create room"}),!b.length&&"No messages",b.map((function(e,t){var n,a,r,c;return e.name?n=e.name:e.message&&(n=e.message.name),e.message&&(a=e.message.message,c=e.message.date,r=e.message.name),Object(me.jsxs)("p",{onClick:function(){return De(j,d,e.uid)},className:"pointer",style:{background:"#f8f8f8",padding:"5px",borderRadius:"5px"},children:[Object(me.jsx)("p",{style:{fontSize:20},children:n}),e.message?Object(me.jsxs)(ne,{children:[Object(me.jsxs)("div",{style:{color:e.seen?"black":"var(--blue)"},children:[r,": ",Object(me.jsx)("span",{style:{color:"#c8c8c8"},children:a})]}),c&&Object(me.jsxs)("div",{children:[Object(me.jsx)(Ie.a,{date:new Date(c),durationFromNow:!0})," Ago"]})]}):"No messages"]},e.uid)}))]})}),Object(me.jsx)(gt,{open:D,setOpen:E,data:U,setData:R,type:H,onSave:Y}),Object(me.jsxs)(yt,{children:[Object(me.jsx)(wt,{children:Object(me.jsx)(G.a,{style:{color:"white"}})}),Object(me.jsx)(kt,{style:{color:"white"},placeholder:"Search\u2026",value:s,onChange:function(e){return o(e.target.value)},inputProps:{"aria-label":"search"},onKeyDown:function(t){13==t.keyCode&&s&&e.push("/search?value=".concat(s,"&category=").concat(a))}})]}),Object(me.jsx)(xe,{items:[{title:Object(me.jsx)(y.b,{to:"/settings",style:Object(A.a)(Object(A.a)({},re),{},{padding:0}),children:"Settings"})},{title:"Logout",onClick:function(){return I(j)}}],style:{color:"white"}})]})]})})})}var Ct,Nt,Mt,Dt,Et,Pt,zt,Ut,It,At,Rt,Wt,Ft,Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,a=e.userUid,r=void 0===a?"":a,c=e.asAdmin,i=void 0===c?0:c,s=e.limit,o=void 0===s?10:s,u=e.search,l=void 0===u?"":u;return N.a.get("/post?page=".concat(n,"&userUid=").concat(r,"&asAdmin=").concat(i,"&limit=").concat(o,"&search=").concat(l))},Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,a=void 0===n?10:n;return N.a.post("/post?limit=".concat(a),e)},qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.returnPosts,r=void 0===a?"":a,c=n.returnPost,i=void 0===c?"":c,s=n.userUid,o=void 0===s?"":s,u=n.limit,l=void 0===u?10:u;return N.a.put("/post/".concat(e,"?returnPosts=").concat(r,"&returnPost=").concat(i,"&userUid=").concat(o,"&limit=").concat(l),t)},Lt=function(e){return N.a.delete("/post/"+e)},Bt=function(e){return N.a.get("/comments/"+e)},_t=function(e){return N.a.post("/comment",e)},Vt=function(e){return N.a.get("/post/"+e)},Yt=function(e){return N.a.get("/postliked/"+e)},Gt=function(e){return N.a.post("/postlike/"+e)},Jt=function(e){return(e="string"===typeof e?new Date(e):e).getFullYear()+"-"+Zt(e.getMonth()+1)+"-"+Zt(e.getDate()+1)},Zt=function(e){return("0"+e).slice(-2)},Kt=Z.a.div(Ct||(Ct=Object(J.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(114px, 1fr));\n  gap: 10px;\n"]))),Qt=Z.a.img(Nt||(Nt=Object(J.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n"]))),Xt={position:"absolute",color:"var(--red)",top:"2px",right:"2px",cursor:"pointer",background:"white",boxShadow:"0 0 4px #00000052",borderRadius:"5px",padding:"3px"},$t={position:"absolute",top:"30px",right:"2px",cursor:"pointer",color:"var(--blue)",background:"white",boxShadow:"0 0 4px #00000052",borderRadius:"5px",padding:"3px"},en=Z.a.div(Mt||(Mt=Object(J.a)(["\n  padding: 25px;\n  box-shadow: 0 0 4px #00000021;\n  border-radius: 5px;\n  margin-bottom: 20px;\n"]))),tn=Z.a.img(Dt||(Dt=Object(J.a)(["\n  height: 60px;\n  width: 60px;\n  object-fit: cover;\n  border-radius: 50%;\n"]))),nn=Z.a.p(Et||(Et=Object(J.a)(["\n  font-weight: bold;\n  font-size: 18px;\n"]))),an=Z.a.p(Pt||(Pt=Object(J.a)(["\n  font-size: 14px;\n  color: #b2b2b2;\n"]))),rn=Z.a.div(zt||(zt=Object(J.a)(["\n  margin-top: 30px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 15px;\n  align-items: center;\n"]))),cn=Z.a.img(Ut||(Ut=Object(J.a)(["\n  width: 100%;\n  max-height: 200px;\n  object-fit: contain;\n"]))),sn=Z.a.pre(It||(It=Object(J.a)(["\n  padding: 20px;\n"]))),on=Z.a.div(At||(At=Object(J.a)(["\n  border-radius: 10px;\n  padding: 0px 12px;\n"]))),un=Z.a.div(Rt||(Rt=Object(J.a)(["\n  margin-top: 10px;\n  display: grid;\n  grid-template-columns: 1fr auto auto auto;\n  align-items: center;\n  gap: 10px;\n"]))),ln=Z.a.img(Wt||(Wt=Object(J.a)(["\n  height: 40px;\n  width: 40px;\n  object-fit: cover;\n  border-radius: 50%;\n"]))),dn=Z.a.div(Ft||(Ft=Object(J.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto;\n  gap: 10px;\n  margin-bottom: 10px;\n"]))),bn=n(50),jn=n.n(bn);function pn(e){var t=e.comment,n=e.setData,a=e.data,r=e.setDeleteModalOpen,c=e.seteleteModalData,i=e.userUid,s=t.userUid,o=t.profileImage,u=t.name,l=t.date,d=t.title,b=t.uid,j=a.commentUid==b,p=Object(g.c)((function(e){return e})).user;return Object(me.jsxs)(on,{style:{border:j?"1px solid #e7e7e7":""},children:[Object(me.jsxs)(un,{children:[Object(me.jsx)(y.b,{style:re,to:"/profile/"+s,children:Object(me.jsxs)(ee,{style:{gap:10},children:[Object(me.jsx)(qe,{src:"/images/user/".concat(s,"/").concat(o),Element:ln,noImg:"/images/other/noProfileImg.png"}),u]})}),Object(me.jsx)("span",{className:"color-blue pointer",onClick:function(){return n((function(e){return Object(A.a)(Object(A.a)({},e),{},{commentUid:j?null:b})}))},children:j?"Unreply":"Reply"}),Object(me.jsx)("span",{style:{fontSize:13,color:"darkgrey"},children:Jt(l)}),p.uid==s||p.uid==i||2==p.status?Object(me.jsx)(jn.a,{className:"pointer color-red",onClick:function(){r(!0),c(b)}}):""]}),Object(me.jsx)("p",{className:"p-2",children:d})]})}var fn=n(80);var On=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t.filter((function(e){return e[n]==a})).map((function(a){return Object(A.a)(Object(A.a)({},a),{},{items:e(t,n,a.uid)})}))};function mn(e){var t=e.deleteModalObj,n=t.deleteModalOpen,a=t.setDeleteModalOpen,r=t.deleteModalData,c=void 0===r?{}:r,i=t.deleteModalOnSave;return Object(me.jsx)(xt,{open:n,setOpen:a,header:c.title||"Modal",onSave:i,children:"Are you sure you want to delete"})}function xn(e){var t=e.commentsModalObj,n=t.commentsModalOpen,a=t.setCommentsModalOpen,r=t.uid,c=t.userUid,i={title:"",commentUid:null,userUid:null,postUid:r},s=function(e){return d(On(e,"commentUid"))},o=Object(O.useState)([]),u=Object(W.a)(o,2),l=u[0],d=u[1],b=Object(O.useState)(i),j=Object(W.a)(b,2),p=j[0],f=j[1],m=Object(O.useState)(!1),x=Object(W.a)(m,2),h=x[0],g=x[1],v=Object(O.useState)(null),y=Object(W.a)(v,2),w=y[0],C=y[1],M=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=w,N.a.delete("/comment/"+a);case 2:t=e.sent,(n=t.data.data)&&s(n),g(!1);case 6:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),D={deleteModalOnSave:M,deleteModalOpen:h,setDeleteModalOpen:g};Object(O.useEffect)(Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt(r);case 2:t=e.sent,n=t.data.data,s(n);case 5:case"end":return e.stop()}}),e)}))),[]);var E=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.title){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_t(p);case 5:t=e.sent,(n=t.data.data)&&s(n),f(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(xt,{header:"Comments",maxWidth:"md",open:n,setOpen:a,noBtns:!0,children:[Object(me.jsxs)(dn,{children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"Add comment",variant:"outlined",size:"small",fullWidth:!0,value:p.title,onChange:function(e){return tt(e,"title",f)}}),Object(me.jsx)(jt.a,{size:"small",variant:"contained",onClick:E,style:{backgroundColor:"var(--blue)",color:"white"},children:"Add Comment"})]}),function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return Object(me.jsx)(me.Fragment,{children:t.map((function(t){return Object(me.jsxs)("div",{children:[Object(me.jsx)(pn,{setData:f,data:p,comment:t,setDeleteModalOpen:g,seteleteModalData:C,userUid:c}),Object(me.jsx)("div",{style:{paddingLeft:40},children:t.items.length?Object(me.jsxs)(me.Fragment,{children:[e(t.items)," "]}):""})]},t.uid)}))})}(),Object(me.jsx)(mn,{deleteModalObj:D})]})}var hn=n(195),gn=n.n(hn);function vn(e){var t=e.post,n=t.image,a=t.username,r=t.date,c=t.userUid,i=t.images,s=t.description,o=t.uid,u=t.likes,l=void 0===u?0:u,d=e.icons,b=void 0===d?[]:d,j=Object(O.useState)(!1),p=Object(W.a)(j,2),f=p[0],m=p[1],x=Object(O.useState)({}),h=Object(W.a)(x,2),g=h[0],w=h[1],C=Object(O.useState)(0),N=Object(W.a)(C,2),M=N[0],D=N[1],E=Object(O.useState)(0),P=Object(W.a)(E,2),z=P[0],U=P[1],I={commentsModalOpen:f,setCommentsModalOpen:m,commentsModalData:g,setCommentsModalData:w,uid:o,userUid:c},A=Object(v.j)().uid,R=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yt(o);case 2:t=e.sent,(n=t.data.data)?(D(n?1:0),U(n?l-1:l)):U(l);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){m(!1)}),[A]),Object(O.useEffect)((function(){R()}),[l]);var F=function(){var e=Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(M?0:1),Gt(o);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(en,{children:[Object(me.jsxs)(te,{children:[Object(me.jsxs)(Q,{style:{gap:10},children:[Object(me.jsx)(qe,{noImg:"/images/other/noProfileImg.png",Element:tn,src:n}),Object(me.jsxs)(X,{children:[Object(me.jsx)(nn,{children:Object(me.jsx)(y.b,{to:"/profile/"+c,style:re,children:a})}),Object(me.jsx)(an,{children:r.slice(0,10)})]})]}),Object(me.jsx)("div",{children:b.map((function(e){var t=e.icon,n=e.onClick,a=void 0===n?function(){}:n;return Object(me.jsx)("span",{className:"pointer",onClick:a,children:t})}))})]}),Object(me.jsx)(sn,{children:s}),Object(me.jsx)(rn,{children:i.map((function(e){return Object(me.jsx)(qe,{Element:cn,src:"/images/user/".concat(e.url)},e.uid)}))}),Object(me.jsx)("p",{className:"color-blue pointer mt-3",onClick:function(){return m(!0)},children:"Comments"}),f&&Object(me.jsx)(xn,{commentsModalObj:I}),Object(me.jsx)("br",{}),Object(me.jsx)(Oe.a,{onClick:F,children:Object(me.jsx)(ve.a,{badgeContent:String(z+(M?1:0)),color:"error",children:Object(me.jsx)(gn.a,{style:{color:M?"var(--blue)":""}})})})]})}function yn(){var e=Object(O.useState)([]),t=Object(W.a)(e,2),n=t[0],a=t[1],r=Object(O.useState)(!1),c=Object(W.a)(r,2),i=(c[0],c[1],Object(g.c)((function(e){return e})).user,Object(O.useState)(!1)),s=Object(W.a)(i,2),o=(s[0],s[1],Object(O.useState)("")),u=Object(W.a)(o,2),l=(u[0],u[1],Object(O.useState)({description:"",images:[]})),d=Object(W.a)(l,2),b=(d[0],d[1],Object(O.useState)(!1)),j=Object(W.a)(b,2),p=(j[0],j[1],Object(O.useState)(!1)),f=Object(W.a)(p,2),m=(f[0],f[1],Object(O.useState)({})),x=Object(W.a)(m,2);x[0],x[1];return Object(O.useEffect)(Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/friendsposts");case 2:t=e.sent,n=t.data.data,a(n);case 5:case"end":return e.stop()}}),e)}))),[]),Object(me.jsx)("div",{children:n.map((function(e){return Object(me.jsx)(vn,{post:Object(A.a)(Object(A.a)({},e),{},{username:e.name,image:"/images/user/"+e.userUid+"/"+e.profileImage})},e.uid)}))})}function wn(){return Object(me.jsx)(yn,{})}var kn,Sn,Cn,Nn,Mn,Dn,En=[],Pn=Z.a.div(kn||(kn=Object(J.a)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  padding: 10px;\n  z-index: 99;\n  display: flex;\n  gap: 10px;\n  align-items: flex-end;\n  max-width: 100vw;\n  overflow-x: auto;\n"]))),zn=Z.a.div(Sn||(Sn=Object(J.a)(["\n  background: white;\n  height: 100%;\n  box-shadow: 0 0 4px #00000057;\n  border-radius: 5px;\n  min-width: 310px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n"]))),Un=Z.a.div(Cn||(Cn=Object(J.a)(["\n  background-color: var(--blue);\n  color: white;\n"]))),In=Z.a.div(Nn||(Nn=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  overflow-y: auto;\n  height: 300px;\n  max-width: 310px;\n"]))),An=Z.a.div(Mn||(Mn=Object(J.a)(["\n  padding: 4px 8px;\n  border-radius: 14px;\n  background: #f0f0f0;\n  display: inline-block;\n"]))),Rn=Z.a.img(Dn||(Dn=Object(J.a)(["\n  height: 35px;\n  width: 35px;\n  object-fit: conver;\n  border-radius: 50%;\n  margin-right: 5px;\n"]))),Wn=n(197),Fn=n.n(Wn),Tn=n(196),Hn=n.n(Tn),qn=n(91),Ln=n.n(qn),Bn=["data","open","setOpen","type","onSave","defaultValue"];function _n(e){var t=e.data,n=e.open,a=e.setOpen,r=(e.type,e.onSave),c=(e.defaultValue,Object(R.a)(e,Bn)),i=function(){var e=Object(S.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uid,e.next=3,Me(n);case 3:r(),a(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(xt,Object(A.a)(Object(A.a)({open:n,setOpen:a,onSave:i},c),{},{children:["Are you sure you want to delete room ",t.roomName]}))}function Vn(e){var t=e.chat,n=t.uid,a=t.open,r=e.socket,c=Object(O.useState)(""),i=Object(W.a)(c,2),s=i[0],o=i[1],u=Object(O.useState)([]),l=Object(W.a)(u,2),d=l[0],b=l[1],j=Object(O.useState)(!1),p=Object(W.a)(j,2),f=p[0],m=p[1],x=Object(O.useState)([]),h=Object(W.a)(x,2),v=h[0],y=h[1],w=Object(g.c)((function(e){return e})),C=w.user,N=w.navbarMessages,M=Object(O.useState)(""),D=Object(W.a)(M,2),E=D[0],P=D[1],z=Object(O.useState)(!1),U=Object(W.a)(z,2),I=U[0],R=U[1],F=Object(g.b)(),T=Object(O.useState)(!1),H=Object(W.a)(T,2),q=H[0],L=H[1],B=Object(O.useState)({name:"",users:[]}),_=Object(W.a)(B,2),V=_[0],Y=_[1],G=Object(O.useState)([]),J=Object(W.a)(G,2),Z=J[0],K=J[1],Q=Object(O.useState)(!1),X=Object(W.a)(Q,2),te=X[0],ae=X[1],re=Object(O.useState)({}),ce=Object(W.a)(re,2),ie=ce[0],oe=ce[1],ue=Object(O.useRef)(),le={true:{display:"flex",justifyContent:" flex-end",textAlign:"right",marginLeft:"auto"},false:{}},de={true:{backgroundColor:"var(--blue)",color:"white"},false:{}},be=function(){var e=Object(S.a)(k.a.mark((function e(){var t,a,r,c,i,s,o,u,l,d=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.next=3,ye(n,t);case 3:a=e.sent,(r=a.data.data)&&(c=r.users,i=r.messages,s=r.chat,c&&s&&(y(c),o="",s.name?(R(!0),o=s.name):(u=c.filter((function(e){return e.userUid!==C.uid}))[0].username,o=u),P(o)),i&&(l=i.map((function(e){var t,n=e.message,a=e.date,r=e.chatuserUid,i=e.uid,s=e.username,o=e.image,u=e.notification;return{message:n,date:a,from:null===(t=c.find((function(e){return e.uid==r})))||void 0===t?void 0:t.userUid,uid:i,username:s,image:o,notification:u}})),b(l))),m(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ke(n);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(O.useEffect)((function(){r.emit("join",n)}),[]),Object(O.useEffect)((function(){be(),je()}),[]),Object(O.useEffect)((function(){r.on("message",(function(e){b((function(t){return[].concat(Object($e.a)(t),[Object(A.a)(Object(A.a)({},e),{},{uid:Math.random()})])})),je()}))}),[]),Object(O.useEffect)((function(){var e;null===(e=pe.current)||void 0===e||e.scrollTo(0,pe.current.scrollHeight)}),[d]);var pe=Object(O.useRef)();return Object(me.jsxs)(zn,{children:[q&&Object(me.jsx)(gt,{additionalData:v.filter((function(e){return e.userUid!==C.uid})).map((function(e){return{value:e.userUid,name:e.username}})),open:q,setOpen:L,data:V,setData:Y,type:"update",onSave:function(e){var t=e.name,a=e.users,c=e.friends;e.type;if(E!==t){var i="changed room name to "+t,s={uid:n,message:i,from:C.uid,notification:1};r.emit("sendMessage",s),we(n,s),b([].concat(Object($e.a)(d),[{message:i,notification:1,uid:Math.random(),from:C.uid}]))}var o,u=v.filter((function(e){return e.userUid!==C.uid&&1===e.inChat})),l=[],j=Object(fn.a)(a.filter((function(e){return!u.find((function(t){return t.userUid===e}))})));try{var p=function(){var e,t=o.value,a="added user "+(null===(e=c.find((function(e){return e.value===t})))||void 0===e?void 0:e.name),i={uid:n,message:a,from:C.uid,notification:1};r.emit("sendMessage",i),l.push({from:C.uid,message:a,username:"",date:new Date-1,uid:Math.random(),notification:1})};for(j.s();!(o=j.n()).done;)p()}catch(x){j.e(x)}finally{j.f()}var f,O=Object(fn.a)(u.filter((function(e){return!a.find((function(t){return e.userUid===t}))})));try{var m=function(){var e,t=f.value,a="deleted user "+(null===(e=c.find((function(e){return e.value===t.userUid})))||void 0===e?void 0:e.name),i={uid:n,message:a,from:C.uid,notification:1};r.emit("sendMessage",i),l.push({from:C.uid,message:a,username:"",date:new Date-1,uid:Math.random(),notification:1})};for(O.s();!(f=O.n()).done;)m()}catch(x){O.e(x)}finally{O.f()}l.length&&b([].concat(Object($e.a)(d),l)),be({chat:1,messages:""})},defaultValue:function(e){return e.filter((function(e){return Z.includes(e.value)}))}}),Object(me.jsx)(_n,{open:te,setOpen:ae,data:ie,onSave:function(){ze(F,N.filter((function(e){return e.uid!==n}))),r.emit("disconnectchat",n),Pe(F,n)}}),Object(me.jsx)(Un,{className:"px-3 py-2",children:Object(me.jsxs)(ne,{children:[Object(me.jsx)("span",{children:E}),Object(me.jsxs)("div",{children:[I&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(jn.a,{onClick:function(){ae(!0),oe({roomName:E,uid:n})},className:"pointer"}),Object(me.jsx)(Ln.a,{onClick:function(){K(v.filter((function(e){return e.userUid!==C.uid&&1===e.inChat})).map((function(e){return e.userUid}))),Y({name:E,users:v.filter((function(e){return e.userUid!==C.uid})).map((function(e){return e.userUid})),uid:n}),L(!0)},className:"pointer"})]}),Object(me.jsx)(Hn.a,{className:"pointer",onClick:function(){!function(e,t){e({type:"MINIMIZE_CHAT",payload:t})}(F,n)}}),Object(me.jsx)(Fn.a,{className:"pointer",onClick:function(){r.emit("disconnectchat",n),Pe(F,n)}})]})]})}),a&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(In,{className:"p-3",ref:pe,children:[!f&&"Loading",d.map((function(e){var t=C.uid===e.from,n=v.find((function(t){return t.userUid===e.from})),a=n.username,r=n.profileImage;return e.username=C.uid===e.from?"You":a,e.image=e.from+"/"+r,e.notification?Object(me.jsxs)("p",{style:{fontSize:"13px",textAlign:"center",margin:"5px 0",color:"#b8b8b8"},children:[e.username," ",e.message]}):Object(me.jsxs)(ee,{children:[!t&&Object(me.jsx)(qe,{Element:Rn,loadingWidth:"35",loadingHeight:"35",src:"/images/user/"+e.image}),Object(me.jsxs)("div",{style:Object(A.a)(Object(A.a)({},le[t]),{},{maxWidth:"50%"}),children:[!t&&Object(me.jsx)("p",{className:"mb-2",children:e.username}),Object(me.jsx)(An,{style:de[t],children:e.message})]})]},e.uid)}))]}),Object(me.jsx)("form",{onSubmit:function(e){e.preventDefault(),s&&(ue.current={uid:n,message:s},r.emit("sendMessage",{uid:n,message:s,from:C.uid}),b([].concat(Object($e.a)(d),[{from:C.uid,message:s,username:"",date:new Date-1,uid:Math.random()}])),o(""),we(n,{message:s}))},children:Object(me.jsxs)($,{className:"gap-1 p-3",children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"Message",variant:"outlined",size:"small",fullWidth:!0,style:{flex:1},value:s,onChange:function(e){return o(e.target.value)}}),Object(me.jsx)(se,{style:{padding:4,fontSize:"13px"},children:"Send"})]})})]})]})}var Yn,Gn=n(210);function Jn(){var e=Object(g.c)((function(e){return e})),t=e.chats,n=e.user,a=Object(g.b)(),r=Object(O.useRef)("");return Object(O.useEffect)((function(){(Yn=Object(Gn.a)()).emit("join","user"+n.uid)}),[]),Object(O.useEffect)((function(){Yn.off("openChat"),Yn.on("openChat",(function(e){De(a,r.current,e)}))}),[a,t]),Object(O.useEffect)((function(){r.current=t}),[t]),Object(me.jsx)(Pn,{children:t.map((function(e){return Object(me.jsx)(Vn,{socket:Yn,chat:e},e.uid)}))})}var Zn=["component"];function Kn(e){var t=e.component,n=Object(R.a)(e,Zn),a=Object(g.c)((function(e){return e})).user;return a?Object(me.jsxs)(v.c,Object(A.a)(Object(A.a)({},n),{},{children:[Object(me.jsx)(Jn,{}),Object(me.jsx)(St,{}),Object(me.jsx)(t,{})]})):!1===a?"":Object(me.jsx)(v.b,{to:"/"})}var Qn=n(379),Xn=n(368),$n=n(358),ea=n(359),ta=n(378),na=n(201),aa=n.n(na),ra=n(137),ca=n.n(ra);function ia(e){var t=e.obj,n=t.setItems,a=t.setPages,r=t.setPage,c=(e.props,[{icon:ca.a,title:"People",category:"user"},{icon:aa.a,title:"Posts",category:"post"}]),i=Object(v.i)().search,s=new URLSearchParams(i),o=s.get("value"),u=s.get("category"),l=s.get("page");return O.useEffect((function(){n([]),r(1)}),[u]),O.useEffect(Object(S.a)(k.a.mark((function e(){var t,r,c,i,s,d,b,j;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"!=u){e.next=9;break}return console.log(l),e.next=4,Le({search:o,page:l||1,noEmailSearch:"1"});case 4:t=e.sent,(r=t.data.data)&&(c=r.users,i=r.pages,n(c),a(i)),e.next=15;break;case 9:if("post"!=u){e.next=15;break}return e.next=12,Tt({page:l||1,search:o});case 12:s=e.sent,(d=s.data.data)&&(b=d.posts,j=d.pages,n(b),a(j));case 15:case"end":return e.stop()}}),e)}))),[i]),Object(me.jsx)(Qn.a,{sx:{width:"100%",maxWidth:300,boxShadow:"none!important"},style:{boxShadow:"none!important"},subheader:Object(me.jsx)(ta.a,{children:"Categories"}),children:c.map((function(e,t){var n=e.icon,a=e.title,r=e.category;return Object(me.jsx)(Xn.a,{style:{background:r==u?"#f5f5f5":"inherit"},children:Object(me.jsx)(y.b,{style:Object(A.a)({width:"100%"},re),to:"/search?value=".concat(o,"&category=").concat(r),children:Object(me.jsxs)(Q,{children:[Object(me.jsx)($n.a,{style:{minWidth:40},children:Object(me.jsx)(n,{})}),Object(me.jsx)(ea.a,{id:"switch-list-label-wifi",primary:a})]})})},t)}))})}var sa=n(362),oa=n(99),ua=n.n(oa),la=n(101),da=n.n(la),ba=n(102),ja=n.n(ba),pa=n(203),fa=n.n(pa),Oa=n(103),ma=n.n(Oa),xa=n(100),ha=n.n(xa);function ga(e){var t=e.obj,n=t.items,a=t.pages,r=t.page,c=t.setPage,i=t.setItems,s=Object(v.h)(),o=Object(g.b)(),u=Object(g.c)((function(e){return e})).chats,l=de(),d=l.value,b=l.category;l.page;return Object(me.jsxs)(X,{style:{gap:20,flex:1},children:[Object(me.jsx)(Qn.a,{sx:{width:"100%",boxShadow:"none!important"},style:{boxShadow:"none!important"},subheader:Object(me.jsx)(ta.a,{children:"Users"}),children:n.map((function(e,t){var a=e.uid,r=e.fName,c=e.lName,s=e.friend,l=e.sendedRequest,d=e.toRequest,b=e.me;return Object(me.jsxs)(Xn.a,{children:[Object(me.jsx)(y.b,{style:Object(A.a)({width:"100%"},re),to:"/profile/".concat(a),children:Object(me.jsxs)(Q,{children:[Object(me.jsx)($n.a,{style:{minWidth:40},children:Object(me.jsx)(ca.a,{})}),Object(me.jsx)(ea.a,{id:"switch-list-label-wifi",primary:r+" "+c})]})}),s&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ua.a,{onClick:function(){return function(e,t){Ee(e,o,u,t)}(a,r+" "+c)},titleAccess:"Message",className:"pointer"}),Object(me.jsx)(ha.a,{onClick:Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Je(a),delete(t=Object($e.a)(n)).find((function(e){return e.uid===a})).friend,i(t);case 4:case"end":return e.stop()}}),e)}))),titleAccess:"Message",className:"pointer"})]}),l&&Object(me.jsx)(da.a,{titleAccess:"Cancel friend request",onClick:Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve(a),delete(t=Object($e.a)(n)).find((function(e){return e.uid===a})).sendedRequest,i(t);case 4:case"end":return e.stop()}}),e)}))),className:"pointer"}),d&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ja.a,{titleAccess:"Accept friend request",className:"pointer",onClick:Object(S.a)(k.a.mark((function e(){var t,r,c,s,o,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(a);case 2:t=e.sent,r=t.data,c=r.data,(s=r.error)?alert(s):c&&(o=Object($e.a)(n),delete(u=o.find((function(e){return e.uid===a}))).toRequest,u.friend=!0,i(o));case 7:case"end":return e.stop()}}),e)})))}),Object(me.jsx)(fa.a,{titleAccess:"Reject friend request",className:"pointer",onClick:Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye(a),t=Object($e.a)(n),delete t.find((function(e){return e.uid===a})).toRequest,i(t);case 5:case"end":return e.stop()}}),e)})))})]}),!(s||l||d||b)&&Object(me.jsx)(ma.a,{titleAccess:"Send friend request",onClick:Object(S.a)(k.a.mark((function e(){var t,r,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(a);case 2:t=e.sent,r=t.data,c=r.data,(s=r.error)&&alert(s),c&&((o=Object($e.a)(n)).find((function(e){return e.uid===a})).sendedRequest=!0,i(o));case 8:case"end":return e.stop()}}),e)}))),className:"pointer"})]},a+r+c)}))}),Object(me.jsx)(sa.a,{count:a,page:r,onChange:function(e,t){c(t);var n=t>1?"&page=".concat(t):"";s.push("/search?value=".concat(d,"&category=").concat(b)+n)}})]})}var va,ya,wa,ka,Sa,Ca=n(204),Na=n.n(Ca);function Ma(e){var t=e.obj,n=t.items,a=t.pages,r=t.page,c=t.setPage,i=(t.setItems,Object(v.h)()),s=de(),o=s.value,u=s.category;s.page;return console.log(n),Object(me.jsxs)(X,{style:{gap:20,flex:1},children:[Object(me.jsx)(Qn.a,{sx:{width:"100%",boxShadow:"none!important"},style:{boxShadow:"none!important"},subheader:Object(me.jsx)(ta.a,{children:"Posts"}),children:n.map((function(e,t){var n=e.uid,a=e.description;return Object(me.jsx)(Xn.a,{children:Object(me.jsx)(y.b,{style:Object(A.a)({width:"100%"},re),to:"/post/".concat(n),children:Object(me.jsxs)(Q,{children:[Object(me.jsx)($n.a,{style:{minWidth:40},children:Object(me.jsx)(Na.a,{})}),Object(me.jsx)(ea.a,{id:"switch-list-label-wifi",primary:null===a||void 0===a?void 0:a.slice(0,40)})]})})},n)}))}),Object(me.jsx)(sa.a,{count:a,page:r,onChange:function(e,t){c(t);var n=t>1?"&page=".concat(t):"";i.push("/search?value=".concat(o,"&category=").concat(u)+n)}})]})}var Da,Ea,Pa=Z.a.div(va||(va=Object(J.a)(["\n  width: 100%;\n  max-width: 1400px;\n  margin: -10px auto 0;\n"]))),za=Z.a.div(ya||(ya=Object(J.a)(["\n  height: 500px;\n  background-color: #a3a3a3;\n  position: relative;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  & > svg {\n    position: absolute;\n    bottom: 36px;\n    right: 36px;\n    color: var(--blue);\n    background: white;\n    padding: 3px;\n    border-radius: 5px;\n    box-shadow: 0 0 5px #00000036;\n    font-size: 30px;\n    cursor: pointer;\n    display: none;\n  }\n\n  & > svg:active {\n    transform: scale(0.9);\n  }\n\n  &:hover > svg {\n    display: block;\n  }\n"]))),Ua=Z.a.div(wa||(wa=Object(J.a)(["\n  padding: 15px 25px;\n  margin-bottom: 20px;\n"]))),Ia=Z.a.img(ka||(ka=Object(J.a)(["\n  border-radius: 50%;\n  margin-top: -75px;\n  height: 200px;\n  aspect-ratio: 1;\n  object-fit: cover;\n"]))),Aa=Z.a.div(Sa||(Sa=Object(J.a)(["\n  position: relative;\n\n  & > svg {\n    position: absolute;\n    bottom: 36px;\n    right: 36px;\n    color: var(--blue);\n    background: white;\n    padding: 3px;\n    border-radius: 5px;\n    box-shadow: 0 0 5px #00000036;\n    font-size: 30px;\n    cursor: pointer;\n    display: none;\n  }\n\n  & > svg:active {\n    transform: scale(0.9);\n  }\n\n  &:hover > svg {\n    display: block;\n  }\n"]))),Ra=n(355),Wa=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))},Fa=function(e){return N.a.post("/uploadimgs",e,{withCredentials:!0})},Ta=Z.a.img(Da||(Da=Object(J.a)(["\n  width: 100%;\n  height: 100px;\n  object-fit: cover;\n  filter: grayscale(0.4);\n  transition: 0.3s;\n\n  &:hover {\n    cursor: pointer;\n    filter: grayscale(0);\n  }\n"]))),Ha=Z.a.div(Ea||(Ea=Object(J.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(114px, 1fr));\n  gap: 10px;\n"])));function qa(e){var t=e.open,n=e.setOpen,a=(e.currentImage,e.onChooseImage),r=Object(g.c)((function(e){return e})).user,c=Object(O.useState)([]),i=Object(W.a)(c,2),s=i[0],o=i[1],u=Object(O.useState)([]),l=Object(W.a)(u,2),d=l[0],b=l[1],j=Object(O.useRef)(null),p=Object(O.useState)(!1),f=Object(W.a)(p,2),m=f[0],x=f[1],h=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,a,r,c,i,s,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new FormData,n=Object(fn.a)(d);try{for(n.s();!(a=n.n()).done;)r=a.value,t.append("images",r.file)}catch(l){n.e(l)}finally{n.f()}return e.next=5,Fa(t);case 5:c=e.sent,i=c.data,s=i.data,(u=i.error)?alert(u):s&&(x(!1),o(s));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=Object(O.useState)(!1),y=Object(W.a)(v,2),w=y[0],C=y[1],M=Object(O.useState)(null),D=Object(W.a)(M,2),E=D[0],P=D[1],z=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=s[E],N.a.delete("/userimage/"+a);case 2:t=e.sent,(n=t.data.data)&&o(n),C(!1);case 6:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/userimages");case 2:t=e.sent,n=t.data,a=n.data,(r=n.error)?alert(r):o(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){U()}),[]),Object(me.jsxs)(xt,{open:t,setOpen:n,successButton:"",header:"Your album",maxWidth:"md",noBtns:!0,children:[Object(me.jsx)(xt,{open:m,setOpen:x,successButton:"Upload",onSave:h,header:"Uploaded images",children:Object(me.jsx)(Ha,{children:d.map((function(e){return e.img})).map((function(e,t){return Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)(jn.a,{style:{position:"absolute",top:"3px",right:"4px",cursor:"pointer",background:"white",boxShadow:"rgb(0 0 0 / 32%) 0px 0px 4px",borderRadius:"5px",padding:"3px",zIndex:"1"},className:"color-red",onClick:function(){var e=Object($e.a)(d).filter((function(e,n){return n!=t}));b(e)}}),Object(me.jsx)(Ta,{src:e},e)]},e+t)}))})}),Object(me.jsx)(xt,{open:w,setOpen:C,header:"Delete image",onSave:z,children:Object(me.jsx)(Ha,{children:Object(me.jsx)(qe,{src:"/images/user/"+r.uid+"/"+s[E],Element:Ta})})}),Object(me.jsxs)("div",{className:"row",children:[Object(me.jsx)("label",{htmlFor:"file",ref:j}),Object(me.jsx)("input",{id:"file",type:"file",multiple:!0,onChange:function(){var e=Object(S.a)(k.a.mark((function e(t){var n,a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=0,r=Object($e.a)(t.target.files);case 2:if(!(a<r.length)){e.next=14;break}return c=r[a],e.t0=n,e.t1=c,e.next=8,Wa(c);case 8:e.t2=e.sent,e.t3={file:e.t1,img:e.t2},e.t0.push.call(e.t0,e.t3);case 11:a++,e.next=2;break;case 14:x(!0),b(n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hidden:!0}),Object(me.jsx)(ae,{children:Object(me.jsx)(jt.a,{type:"button",variant:"contained",onClick:function(){j.current.click()},style:{backgroundColor:"var(--blue)",color:"white"},children:"Upload image"})}),Object(me.jsx)(Ha,{children:s.map((function(e,t){return Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)(jn.a,{style:{position:"absolute",top:"3px",right:"4px",cursor:"pointer",background:"white",boxShadow:"rgb(0 0 0 / 32%) 0px 0px 4px",borderRadius:"5px",padding:"3px",zIndex:"1"},className:"color-red",onClick:function(){C(!0),P(t)}}),Object(me.jsx)(Ta,{onClick:function(){n(!1),a(e)},src:"/images/user/"+r.uid+"/"+e},e)]},e+t)}))})]})]})}var La=n(142),Ba=n(205),_a=n(206),Va=n.n(_a);function Ya(e){var t=e.modalPostObj,n=t.modalPostOpen,a=t.setModalPostOpen,r=t.modalPostType,c=(t.setModalPostType,t.modalPostData),i=t.setModalPostData,s=t.modalPostOnSave,o=Object(g.c)((function(e){return e})).user,u=Object(O.useState)(!1),l=Object(W.a)(u,2),d=l[0],b=l[1],j=Object(La.c)((function(){return Object(me.jsx)(Va.a,{style:$t})})),p=Object(La.b)((function(e){var t=e.value,n=e.indexx;return Object(me.jsx)("div",{style:{position:"relative",zIndex:9999},children:Object(me.jsxs)("div",{className:"relative",children:[Object(me.jsx)(j,{}),Object(me.jsx)(jn.a,{style:Xt,onClick:function(){var e=Object($e.a)(c.images).filter((function(e,t){return t!=n}));i((function(t){return Object(A.a)(Object(A.a)({},t),{},{images:e})}))}}),Object(me.jsx)(Qt,{src:"/images/user/"+t})]})})})),f=Object(La.a)((function(e){var t=e.items;return Object(me.jsx)(Kt,{children:t.map((function(e,t){return Object(me.jsx)(p,{index:t,value:e,indexx:t},"item-".concat(t))}))})}));return Object(me.jsxs)(xt,{open:n,setOpen:a,header:{create:"Create post"}[r],maxWidth:"md",onSave:s,children:[Object(me.jsx)(Ra.a,{"aria-label":"minimum height",value:c.description,onChange:function(e){return tt(e,"description",i)},minRows:3,placeholder:"Description",style:{minHeight:50,maxHeight:300,overflow:"auto!important",font:"inherit",color:"currentcolor",width:"100%",margin:"0px",display:"block",minWidth:"0px",background:"none",animationName:"mui-auto-fill-cancel",letterSpacing:"inherit",animationDuration:"10ms",border:"1px solid rgb(196, 196, 196)",borderRadius:"3px",padding:"10px 14px",boxSizing:"border-box",resize:"vertical"}}),Object(me.jsx)("p",{className:"my-2 pointer",onClick:function(){return b(!0)},children:"Open album"}),Object(me.jsx)(qa,{open:d,setOpen:b,onChooseImage:function(e){i((function(t){return Object(A.a)(Object(A.a)({},t),{},{images:[].concat(Object($e.a)(t.images),[o.uid+"/"+e])})}))}}),Object(me.jsx)(f,{useDragHandle:!0,axis:"xy",items:c.images,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,a=Object(Ba.a)(c.images,t,n);i((function(e){return Object(A.a)(Object(A.a)({},e),{},{images:a})}))}})]})}var Ga=n(161),Ja=n.n(Ga);var Za=n(207),Ka=n.n(Za),Qa=n(208),Xa=n.n(Qa);function $a(e){var t=Object.assign({},e),n=Object(O.useState)(!1),a=Object(W.a)(n,2),r=a[0],c=a[1];return Object(me.jsxs)("div",{style:{position:"relative"},children:[Object(me.jsx)(et.a,Object(A.a)({type:r?"text":"password",id:"outlined-basic",label:"Password",variant:"outlined",size:"small",fullWidth:!0},t)),Object(me.jsx)("span",{style:{position:"absolute",top:"50%",right:"5px",transform:"translateY(-50%)",cursor:"pointer"},onClick:function(){return c(!r)},children:r?Object(me.jsx)(Ka.a,{}):Object(me.jsx)(Xa.a,{})})]})}var er,tr,nr,ar=n(370),rr=["current","onChange","items","label"],cr=(er={display:"-webkit-inline-box"},Object(F.a)(er,"display","-webkit-inline-flex"),Object(F.a)(er,"display","-ms-inline-flexbox"),Object(F.a)(er,"display","inline-flex"),Object(F.a)(er,"-webkit-align-items","center"),Object(F.a)(er,"-webkit-box-align","center"),Object(F.a)(er,"-ms-flex-align","center"),Object(F.a)(er,"align-items","center"),Object(F.a)(er,"-webkit-box-pack","center"),Object(F.a)(er,"-ms-flex-pack","center"),Object(F.a)(er,"-webkit-justify-content","center"),Object(F.a)(er,"justify-content","center"),Object(F.a)(er,"position","relative"),Object(F.a)(er,"box-sizing","border-box"),Object(F.a)(er,"-webkit-tap-highlight-color","transparent"),Object(F.a)(er,"background-color","transparent"),Object(F.a)(er,"outline","0"),Object(F.a)(er,"border","0"),Object(F.a)(er,"margin","0"),Object(F.a)(er,"border-radius","0"),Object(F.a)(er,"padding","0"),Object(F.a)(er,"cursor","pointer"),Object(F.a)(er,"-webkit-user-select","none"),Object(F.a)(er,"-moz-user-select","none"),Object(F.a)(er,"-ms-user-select","none"),Object(F.a)(er,"user-select","none"),Object(F.a)(er,"vertical-align","middle"),Object(F.a)(er,"-moz-appearance","none"),Object(F.a)(er,"-webkit-appearance","none"),Object(F.a)(er,"-webkit-text-decoration","none"),Object(F.a)(er,"text-decoration","none"),Object(F.a)(er,"color","inherit"),Object(F.a)(er,"font-family",'"Roboto","Helvetica","Arial",sans-serif"'),Object(F.a)(er,"font-weight","400"),Object(F.a)(er,"font-size","1rem"),Object(F.a)(er,"line-height","1.5"),Object(F.a)(er,"letter-spacing","0.00938em"),Object(F.a)(er,"display","-webkit-box"),Object(F.a)(er,"display","-webkit-flex"),Object(F.a)(er,"display","-ms-flexbox"),Object(F.a)(er,"display","flex"),Object(F.a)(er,"-webkit-box-pack","start"),Object(F.a)(er,"-ms-flex-pack","start"),Object(F.a)(er,"-webkit-justify-content","flex-start"),Object(F.a)(er,"justify-content","flex-start"),Object(F.a)(er,"-webkit-align-items","center"),Object(F.a)(er,"-webkit-box-align","center"),Object(F.a)(er,"-ms-flex-align","center"),Object(F.a)(er,"align-items","center"),Object(F.a)(er,"position","relative"),Object(F.a)(er,"-webkit-text-decoration","none"),Object(F.a)(er,"text-decoration","none"),Object(F.a)(er,"min-height","48px"),Object(F.a)(er,"padding-top","6px"),Object(F.a)(er,"padding-bottom","6px"),Object(F.a)(er,"box-sizing","border-box"),Object(F.a)(er,"white-space","nowrap"),Object(F.a)(er,"padding-left","16px"),Object(F.a)(er,"padding-right","16px"),er);function ir(e){var t=e.current,n=void 0===t?"":t,a=e.onChange,r=void 0===a?function(){}:a,c=e.items,i=e.label,s=void 0===i?"Select":i,o=Object(R.a)(e,rr);return console.log(c),Object(me.jsx)(et.a,Object(A.a)(Object(A.a)({id:"outlined-select-currency",select:!0,label:s,value:n,onChange:r},o),{},{children:c.map((function(e){return Object(me.jsx)(ar.a,{value:e.value,className:"menuitemselect",style:cr,children:e.label},e.value)}))}))}var sr=Z.a.div(tr||(tr=Object(J.a)(["\n  width: 100%;\n  padding: 20px;\n  box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\n  border-radius: 8px;\n  transition: 0.3s;\n"]))),or=Z.a.div(nr||(nr=Object(J.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 10px;\n"])));function ur(){var e=Object(g.c)((function(e){return e})).user,t=Object(g.b)(),n=Object(O.useState)(!1),a=Object(W.a)(n,2),r=a[0],c=a[1],i=Object(O.useState)(""),s=Object(W.a)(i,2),o=s[0],u=s[1];Object(O.useEffect)((function(){var t=Object(A.a)(Object(A.a)({},e),{},{oldPassword:""});delete t.password,t.date=t.date.slice(0,10),c(t)}),[e]);var l=function(){var n=Object(S.a)(k.a.mark((function n(){var a,c,i,s;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.oldPassword){n.next=2;break}return n.abrupt("return",u("Please enter old password"));case 2:return n.next=4,Ke(e.uid,r);case 4:a=n.sent,c=a.data,i=c.data,s=c.error,i?P(t,i):s&&u(s);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return r?Object(me.jsxs)(sr,{style:{maxWidth:500},children:[Object(me.jsx)("p",{className:"color-red mb-3",children:o}),Object(me.jsxs)(or,{style:{gap:"2px 10px"},children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"Email",variant:"outlined",type:"email",size:"small",fullWidth:!0,className:"my-2",value:r.email,onChange:function(e){return tt(e,"email",c,(function(){return u("")}),(function(){return u("")}))}}),Object(me.jsx)($a,{className:"my-2",value:r.password,onChange:function(e){return tt(e,"password",c,(function(){return u("")}))}}),Object(me.jsx)(et.a,{id:"outlined-basic",label:"First name",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:r.fName,onChange:function(e){return tt(e,"fName",c,(function(){return u("")}))}}),Object(me.jsx)(et.a,{id:"outlined-basic",label:"Last name",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:r.lName,onChange:function(e){return tt(e,"lName",c,(function(){return u("")}))}}),Object(me.jsx)(et.a,{id:"outlined-basic",type:"date",label:"Date",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:r.date,onChange:function(e){return tt(e,"date",c,(function(){return u("")}))}}),Object(me.jsx)(ir,{current:r.gender,items:[{value:4,label:"Not to choose"},{value:1,label:"Male"},{value:2,label:"Female"},{value:3,label:"Dinosaur"}],onChange:function(e){return tt(e,"gender",c,(function(){return u("")}))},size:"small",className:"my-2",label:"Gender"})]}),Object(me.jsx)($a,{label:"Old password",className:"my-2",value:r.oldPassword,onChange:function(e){return tt(e,"oldPassword",c,(function(){return u("")}))}}),Object(me.jsx)(Q,{children:Object(me.jsx)(se,{onClick:l,children:"Save"})})]}):""}var lr=[Object(me.jsx)(Kn,{exact:!0,path:"/profile/:uid",component:function(){var e=Object(v.j)().uid,t=Object(g.c)((function(e){return e})),n=t.user,a=t.chats,r=Object(g.b)(),c=Object(O.useState)(!1),i=Object(W.a)(c,2),s=i[0],o=i[1],u=Object(O.useState)(""),l=Object(W.a)(u,2),d=l[0],b=l[1],j=Object(O.useState)(1),p=Object(W.a)(j,2),f=p[0],m=p[1],x=Object(O.useState)([]),h=Object(W.a)(x,2),y=h[0],w=h[1],C=Object(O.useState)(!1),N=Object(W.a)(C,2),M=N[0],D=N[1],E=Object(O.useState)(!1),P=Object(W.a)(E,2),z=P[0],U=P[1],I=Object(O.useState)(null),R=Object(W.a)(I,2),F=R[0],T=R[1],H=function(){var t=Object(S.a)(k.a.mark((function t(n){var a,r,c,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("profileImg"!=F){t.next=9;break}return console.log(n),t.next=4,Ke(e,{profileImage:n});case 4:a=t.sent,r=a.data.data,o((function(e){return Object(A.a)(Object(A.a)({},e),r)})),t.next=15;break;case 9:if("backgroundImg"!=F){t.next=15;break}return t.next=12,Ke(e,{backgroundImage:s.uid+"/"+n});case 12:c=t.sent,i=c.data.data,o((function(e){return Object(A.a)(Object(A.a)({},e),i)}));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(S.a)(k.a.mark((function t(){var a,r,c,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Be(e);case 2:if(a=t.sent,!(r=a.data.data)){t.next=17;break}if(o(r),r.uid!=n.uid){t.next=10;break}b("me"),t.next=15;break;case 10:return t.next=12,Ze(r.uid);case 12:c=t.sent,i=c.data,b(i);case 15:t.next=18;break;case 17:o(null);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var e=Object(S.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!1),e.next=3,Tt({page:f,userUid:t,limit:10});case 3:n=e.sent,(a=n.data.data)&&(r=a.posts,a.pages,w((function(e){return[].concat(Object($e.a)(e),Object($e.a)(r))})),D(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B={description:"",images:[]},_=Object(O.useState)(!1),V=Object(W.a)(_,2),Y=V[0],G=V[1],J=Object(O.useState)(""),Z=Object(W.a)(J,2),K=Z[0],Q=Z[1],te=Object(O.useState)(B),ae=Object(W.a)(te,2),re=ae[0],ce=ae[1],ie=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,a,r,c,i,o,u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!1),t=re.description,n=re.uid,a=re.images,t){e.next=4;break}return e.abrupt("return");case 4:if("create"!=K){e.next=12;break}return e.next=7,Ht({description:t,images:a},{limit:10*f+1});case 7:r=e.sent,(c=r.data.data)&&(i=c.posts,c.pages,w(i)),e.next=18;break;case 12:if("update"!=K){e.next=18;break}return e.next=15,qt(n,{description:t,images:a},{returnPosts:1,userUid:s.uid,limit:10*f});case 15:o=e.sent,(u=o.data.data)&&(l=u.posts,u.pages,w(l));case 18:G(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se={modalPostOpen:Y,setModalPostOpen:G,modalPostType:K,setModalPostType:Q,modalPostData:re,setModalPostData:ce,modalPostOnSave:ie},oe=Object(O.useState)(!1),ue=Object(W.a)(oe,2),le=ue[0],de=ue[1],be=Object(O.useState)(!1),je=Object(W.a)(be,2),pe=je[0],fe=je[1],Oe=Object(O.useState)({}),xe=Object(W.a)(Oe,2),he=xe[0],ge=xe[1],ve=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt(he.uid);case 2:t=e.sent,(n=t.data.data)&&(a=n.posts,n.pages,w(a),de(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye={deleteModalOpen:le,setDeleteModalOpen:de,deleteModalType:pe,setDeleteModalType:fe,deleteModalData:he,setDeleteModalData:ge,deleteModalOnSave:ve};return window.onscroll=function(e){var t=document.body,n=document.documentElement;if(Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)-100<=window.scrollY+window.innerHeight){if(!M)return;m((function(e){return e+1}))}},Object(O.useEffect)(Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w([]),m(1),q();case 3:case"end":return e.stop()}}),e)}))),[e,n]),Object(O.useEffect)(Object(S.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:case"end":return t.stop()}}),t)}))),[f,e]),Object(O.useEffect)((function(){D(!0)})),null==s?"Page is not avaible":0==s?"Loading":Object(me.jsxs)("div",{style:{marginTop:-9},children:[Object(me.jsx)(za,{style:{backgroundImage:"url(/images/user/".concat(s.backgroundImage,")")},children:"me"==d&&Object(me.jsx)(Ja.a,{onClick:function(){T("backgroundImg"),U(!0)}})}),Object(me.jsxs)(Pa,{children:[Object(me.jsx)(qa,{open:z,setOpen:U,onChooseImage:H}),Object(me.jsx)(Ua,{children:Object(me.jsxs)(ne,{children:[Object(me.jsxs)($,{children:[Object(me.jsxs)(Aa,{children:["me"==d&&Object(me.jsx)(Ja.a,{onClick:function(){T("profileImg"),U(!0)}}),Object(me.jsx)(qe,{noImg:"/images/other/noProfileImg.png",Element:Ia,src:"/images/user/"+s.uid+"/"+s.profileImage,loadingHeight:200,loadingWidth:200,loadingStyle:{marginTop:-50}})]}),Object(me.jsx)(ee,{style:{marginLeft:20},children:Object(me.jsxs)(X,{style:{gap:10},children:[Object(me.jsx)("h2",{children:s.fName+" "+s.lName}),Object(me.jsxs)("p",{children:[s.friends," ",s.friends>1?"Friends":"Friend"]})]})})]}),Object(me.jsx)("span",{children:{me:Object(me.jsx)(jt.a,{variant:"contained",onClick:function(){ce(B),G(!0),Q("create")},style:{backgroundColor:"var(--blue)",color:"white",position:"initial"},children:"Add post"}),Friends:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ua.a,{onClick:function(){Ee(e,r,a,s.fName+" "+s.lName)},titleAccess:"Message",className:"pointer"}),Object(me.jsx)(ha.a,{onClick:Object(S.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Je(e),b("No one");case 2:case"end":return t.stop()}}),t)}))),titleAccess:"Message",className:"pointer"})]}),"No one":Object(me.jsx)(ma.a,{titleAccess:"Send friend request",onClick:Object(S.a)(k.a.mark((function t(){var n,a,r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e(e);case 2:n=t.sent,a=n.data,r=a.data,(c=a.error)&&alert(c),r&&b("Sender");case 8:case"end":return t.stop()}}),t)}))),className:"pointer"}),Sender:Object(me.jsx)(da.a,{titleAccess:"Cancel friend request",onClick:Object(S.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ve(e),b("No one");case 2:case"end":return t.stop()}}),t)}))),className:"pointer"}),Reciever:Object(me.jsx)(ja.a,{titleAccess:"Accept friend request",className:"pointer",onClick:Object(S.a)(k.a.mark((function t(){var n,a,r,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ge(e);case 2:n=t.sent,a=n.data,r=a.data,(c=a.error)?alert(c):r&&b("Friends");case 7:case"end":return t.stop()}}),t)})))})}[d]})]})}),y.map((function(e){return Object(me.jsx)(vn,{post:Object(A.a)(Object(A.a)({},e),{},{username:s.fName+" "+s.lName,image:"/images/user/"+s.uid+"/"+s.profileImage}),icons:n.uid==s.uid||2==n.status?[{icon:Object(me.jsx)(Ln.a,{style:{color:"var(--blue)"}}),onClick:function(){var t=e.description,n=e.images,a=e.uid;n=n.map((function(e){return e.url})),ce({description:t,uid:a,images:n}),G(!0),Q("update")}},{icon:Object(me.jsx)(jn.a,{style:{color:"var(--red)"},onClick:function(){var t=e.description,n=e.uid;de(!0),ge({uid:n,header:t.slice(0,30)})}})}]:[]},e.uid)})),Object(me.jsx)(Ya,{modalPostObj:se}),Object(me.jsx)(mn,{deleteModalObj:ye})]})]})}}),Object(me.jsx)(Kn,{exact:!0,path:"/search",component:function(e){var t=de(),n=t.category,a=t.page,r=void 0===a?1:a,c=Object(O.useState)([]),i=Object(W.a)(c,2),s=i[0],o=i[1],u=Object(O.useState)([]),l=Object(W.a)(u,2),d=l[0],b=l[1],j=Object(O.useState)(+r),p=Object(W.a)(j,2),f={items:s,setItems:o},m={pages:d,setPages:b},x={page:p[0],setPage:p[1]},h=Object(A.a)(Object(A.a)(Object(A.a)({},f),m),x);return Object(me.jsxs)($,{style:{gap:20},children:[Object(me.jsx)(ia,{props:e,obj:h}),{user:Object(me.jsx)(ga,{obj:h}),post:Object(me.jsx)(Ma,{obj:h})}[n]]})}}),Object(me.jsx)(Kn,{exact:!0,path:"/post/:uid",component:function(e){var t=Object(v.j)().uid,n=Object(O.useState)(),a=Object(W.a)(n,2),r=a[0],c=a[1],i=Object(O.useState)(!1),s=Object(W.a)(i,2),o=s[0],u=s[1],l=Object(g.c)((function(e){return e})).user,d=Object(O.useState)(!1),b=Object(W.a)(d,2),j=b[0],p=b[1],f=Object(O.useState)(""),m=Object(W.a)(f,2),x=m[0],h=m[1],y=Object(O.useState)({description:"",images:[]}),w=Object(W.a)(y,2),C=w[0],N=w[1],M=function(){var e=Object(S.a)(k.a.mark((function e(){var t,n,a,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=C.description,n=C.uid,a=C.images,t){e.next=3;break}return e.abrupt("return");case 3:if("update"!=x){e.next=9;break}return e.next=6,qt(n,{description:t,images:a},{returnPost:"1"});case 6:r=e.sent,(i=r.data.data)&&c(i);case 9:p(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D={modalPostOpen:j,setModalPostOpen:p,modalPostType:x,setModalPostType:h,modalPostData:C,setModalPostData:N,modalPostOnSave:M},E=Object(O.useState)(!1),P=Object(W.a)(E,2),z=P[0],U=P[1],I=Object(O.useState)(!1),R=Object(W.a)(I,2),F=R[0],T=R[1],H=Object(O.useState)({}),q=Object(W.a)(H,2),L=q[0],B=q[1],_=function(){var e=Object(S.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lt(L.uid),c(void 0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V={deleteModalOpen:z,setDeleteModalOpen:U,deleteModalType:F,setDeleteModalType:T,deleteModalData:L,setDeleteModalData:B,deleteModalOnSave:_},Y=function(){var e=Object(S.a)(k.a.mark((function e(){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(t);case 2:n=e.sent,a=n.data.data,u(!0),a&&c(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){Y()}),[t]),o?r?Object(me.jsxs)("div",{children:[Object(me.jsx)(vn,{post:Object(A.a)(Object(A.a)({},r),{},{username:r.name,image:"/images/user/"+r.userUid+"/"+r.profileImage}),icons:l.uid==r.userUid||2==l.status?[{icon:Object(me.jsx)(Ln.a,{style:{color:"var(--blue)"}}),onClick:function(){var e=r.description,t=r.images,n=r.uid;t=t.map((function(e){return e.url})),N({description:e,uid:n,images:t}),p(!0),h("update")}},{icon:Object(me.jsx)(jn.a,{style:{color:"var(--red)"},onClick:function(){var e=r.description,t=r.uid;U(!0),B({uid:t,header:e.slice(0,30)})}})}]:[]}),Object(me.jsx)(Ya,{modalPostObj:D}),Object(me.jsx)(mn,{deleteModalObj:V})]}):"Post doesn't exist":"Loading"}}),Object(me.jsx)(Kn,{exact:!0,path:"/settings",component:function(){return Object(me.jsx)(K,{children:Object(me.jsx)(ur,{})})}})],dr=lr,br=n(371);function jr(e){var t=e.setIndex,n=Object(g.b)(),a=Object(O.useState)({email:"",password:""}),r=Object(W.a)(a,2),c=r[0],i=r[1],s=Object(O.useState)(""),o=Object(W.a)(s,2),u=o[0],l=o[1],d=function(){var e=Object(S.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(n,c);case 2:t=e.sent,(a=t.error)&&l(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{className:"mb-2",style:{color:"var(--red)"},children:u}),Object(me.jsx)(et.a,{id:"outlined-basic",label:"Email",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:c.email,onChange:function(e){return tt(e,"email",i)}}),Object(me.jsx)($a,{className:"my-2",value:c.password,onChange:function(e){return tt(e,"password",i)}}),Object(me.jsx)("span",{className:"mb-2 pointer block",onClick:function(){return t(1)},children:"Don't have an account?"}),Object(me.jsx)(Q,{children:Object(me.jsx)(br.a,{variant:"contained",onClick:d,children:"Sign in"})})]})}function pr(e){var t=e.setIndex,n=Object(g.b)(),a=Object(O.useState)({email:"",password:"",date:Jt(new Date),gender:"",fName:"",lName:""}),r=Object(W.a)(a,2),c=r[0],i=r[1],s=Object(O.useState)(""),o=Object(W.a)(s,2),u=o[0],l=o[1];console.log(c);var d=function(){var e=Object(S.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c,!Object.values(r).every((function(e){return e}))){e.next=6;break}return e.next=3,U(n,c);case 3:t=e.sent,(a=t.error)&&l((null===a||void 0===a?void 0:a.sqlMessage)||a);case 6:case"end":return e.stop()}var r}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)("p",{className:"mb-2",style:{color:"var(--red)"},children:u}),Object(me.jsxs)(or,{children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"Email",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:c.email,onChange:function(e){return tt(e,"email",i)}}),Object(me.jsx)($a,{className:"my-2",value:c.password,onChange:function(e){return tt(e,"password",i)}})]}),Object(me.jsxs)(or,{children:[Object(me.jsx)(et.a,{id:"outlined-basic",label:"First name",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:c.fName,onChange:function(e){return tt(e,"fName",i)}}),Object(me.jsx)(et.a,{id:"outlined-basic",label:"Last name",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:c.lName,onChange:function(e){return tt(e,"lName",i)}})]}),Object(me.jsxs)(or,{children:[Object(me.jsx)(et.a,{id:"outlined-basic",type:"date",label:"Email",variant:"outlined",size:"small",fullWidth:!0,className:"my-2",value:c.date,onChange:function(e){return tt(e,"date",i)}}),Object(me.jsx)(ir,{current:c.gender,items:[{value:4,label:"Not to choose"},{value:1,label:"Male"},{value:2,label:"Female"},{value:3,label:"Dinosaur"}],onChange:function(e){return tt(e,"gender",i)},size:"small",className:"my-2"})]}),Object(me.jsx)("span",{className:"mb-2 pointer block",onClick:function(){return t(0)},children:"Already have an account?"}),Object(me.jsx)(Q,{children:Object(me.jsx)(br.a,{variant:"contained",onClick:d,children:"Sign up"})})]})}function fr(){var e=Object(O.useState)(0),t=Object(W.a)(e,2),n=t[0],a=t[1],r=350;return 1==n&&(r=500),Object(me.jsx)(sr,{style:{maxWidth:r},children:{0:Object(me.jsx)(jr,{setIndex:a}),1:Object(me.jsx)(pr,{setIndex:a})}[n]})}function Or(){return Object(me.jsx)(K,{children:Object(me.jsx)(fr,{})})}var mr=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return e})).user;return Object(O.useEffect)((function(){P(e)}),[]),Object(O.useEffect)((function(){t||function(e){e({type:"REMOVE_CHATS"})}(e)}),[t]),Object(me.jsx)(y.a,{children:Object(me.jsxs)(v.e,{children:[t?Object(me.jsx)(Kn,{exact:!0,path:"/",component:wn}):0!=t?Object(me.jsx)(v.c,{exact:!0,path:"/",component:Or}):"",En," ",dr]})})},xr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},hr={user:!1,chats:[],navbarMessages:[]},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case"setUser":return Object(A.a)(Object(A.a)({},e),{},{user:n});case"ADD_CHAT":return Object(A.a)(Object(A.a)({},e),{},{chats:[n].concat(Object($e.a)(e.chats))});case"REMOVE_CHATS":return Object(A.a)(Object(A.a)({},e),{},{chats:[]});case"CLOSE_CHAT":return Object(A.a)(Object(A.a)({},e),{},{chats:e.chats.filter((function(e){return e.uid!=n}))});case"MINIMIZE_CHAT":return Object(A.a)(Object(A.a)({},e),{},{chats:e.chats.map((function(e){return e.uid!=n?e:Object(A.a)(Object(A.a)({},e),{},{open:!e.open})}))});case"UPDATE_NAVBAR_MESSAGES":return Object(A.a)(Object(A.a)({},e),{},{navbarMessages:n});default:return e}},vr=n(209),yr=Object(vr.a)(gr);h.a.render(Object(me.jsx)(g.a,{store:yr,children:Object(me.jsx)(mr,{})}),document.getElementById("root")),xr()}},[[274,1,2]]]);
//# sourceMappingURL=main.f422df8d.chunk.js.map