{"version":3,"sources":["axios/auth.js","functions/auth.js","components/styledComponents.js","commont tools/url.js","components/ThreeDotMenu.js","axios/chat.js","functions/chat.js","components/collision/SimpleCollision.js","components/Loading.js","components/imgs/ImgLoading.js","axios/users.js","components/navbar/notifications/RequestFrom.js","components/navbar/notifications/RequestTo.js","commont tools/other.js","components/selects/ComboCheckbox.js","components/SimpleModal.js","components/chat/RoomModal.js","components/navbar/notifications/PostComment.js","components/NavBar.js","axios/notifications.js","axios/post.js","commont tools/beauty.js","components/post/styledComponent.js","components/post/PostComment.js","commont tools/tree.js","components/post/DeleteModal.js","components/post/CommentsModal.js","components/post/SinglePost.js","pages/default/main/Logined.js","pages/default/main/index.js","routes/default.js","components/chat/styledComponets.js","components/chat/DeleteRoomModal.js","components/chat/SingleChat.js","components/chat/index.js","routeTypes/onAuth.js","pages/onAuth/search/Categories.js","pages/onAuth/search/Users.js","pages/onAuth/search/Posts.js","pages/onAuth/user/styledComponent.js","commont tools/img.js","axios/album.js","components/Album.js","components/post/PostModal.js","components/inputs/PasswordInput.js","components/selects/Select1.js","components/auth/styledComponents.js","components/auth/SettingsFields.js","routes/onAuth.js","pages/onAuth/user/index.js","pages/onAuth/search/index.js","pages/onAuth/post/index.js","pages/onAuth/settings/index.js","components/auth/authExample1/SignIn.js","components/auth/authExample1/SignUp.js","commont tools/obj.js","components/auth/authExample1/AuthExample1.js","pages/default/main/NotLogined.js","App.js","reportWebVitals.js","reducer/auth.js","index.js"],"names":["getUserAxios","axios","method","withCredentials","url","signInAxios","data","post","signUpAxios","setUserFunc","dispatch","a","user","type","payload","signInFunc","error","signUpFunc","logoutFunc","delete","FullScreenCenter","styled","div","Center","FlexColumns","Flex","AlignCenter","JustifySpaceBetween","JustifySpaceBetweenAlignCenter","PushRight","noUnderlineBlack","color","textDecoration","noUnderlineWhite","ThreeDotMenuP","p","MUIButton","button","NavbarChat","FullscreenTransparent","NotificationProfileImg","img","queryParams","document","location","search","replace","split","map","n","this","bind","ThreeDotMenu","items","Icon","style","myIcon","IconButton","padding","React","useState","anchorEl","setAnchorEl","open","Boolean","handleClose","event","stopPropagation","position","display","onClick","currentTarget","Menu","id","keepMounted","onClose","TransitionComponent","Fade","title","e","getChatMessagesAxios","uid","chat","messages","get","sendChatMessageAxios","message","notification","seenChatAxios","put","getPrivateConnectionAxios","createRoomAxios","updateRoomAxios","deleteRoomAxios","addChatFunc","chats","find","addPrivateChatFunc","name","console","log","closeChatFunc","updateNavbarMessages","SimpleCollision","ref","header","content","onOpen","setOpen","useEffect","className","forwardRef","Loading","height","width","Box","sx","CircularProgress","ImgLoading","src","Element","loadingHeight","loadingWidth","noImg","loadingStyle","loaded","setLoaded","imageFound","imageNotFound","URL","tester","Image","onload","onerror","testImage","getUsersAxios","limit","page","noEmailSearch","sendRequestAxios","cancelRequestAxios","cancelRecieveRequestAxios","addFriendAxios","deleteFriendAxios","connectionToUser","updateUserAxios","RequestFrom","item","setNotifications","image","username","valueUid","state","filter","b","RequestTo","inputObjStateChange","set","value","target","cb","objStateChange","icon","fontSize","checkedIcon","ComboCheckbox","titleName","placeholder","onChange","props","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","renderOption","selected","Checkbox","marginRight","checked","renderInput","params","TextField","label","SimpleModal","children","onSave","maxWidth","onSaveAvaible","noBtns","Dialog","fullWidth","DialogTitle","DialogContent","DialogActions","Button","RoomModal","additionalData","setData","onSaveFunc","defaultValue","useSelector","friends","setFriends","getMyFriends","friendsData","user1","user2","newFriends","users","length","alert","newData","variant","size","PostComment","collisionRef","fontWeight","current","click","to","Search","theme","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginLeft","breakpoints","up","spacing","SearchIconWrapper","pointerEvents","alignItems","justifyContent","StyledInputBase","InputBase","paddingLeft","transition","transitions","create","SearchAppBar","history","useHistory","category","setSearch","navbarMessages","useDispatch","notifications","defaultModalData","roomModalOpen","setRoomModalOpen","roomModalData","setRoomModalData","roomModalType","setRoomModalType","getChatData","getNotifications","notSeened","reduce","seen","useRef","notSeenedNotifications","AppBar","Toolbar","Typography","noWrap","component","flexGrow","xs","sm","gap","fName","Badge","badgeContent","String","requestFrom","requestTo","postComment","messageSender","date","background","Date","durationFromNow","inputProps","onKeyDown","keyCode","push","getPostsFunc","userUid","asAdmin","createPostFunc","updatePostFunc","returnPosts","returnPost","deletePostFunc","getCommentsFunc","postUid","createCommentFunc","getPostFunc","hasPostLikedAxios","likePostAxios","beautyDate","getFullYear","atLeastCharacter","getMonth","getDate","slice","ImgContainer","Img","deleteIconStyle","top","right","cursor","boxShadow","moveIconStyle","SinglePostContainer","SinglePostProfileImg","SinglePostUsername","SinglePostDate","SinglePostImgContainer","SinglePostImg","SinglePostDescription","pre","CommentMainDiv","CommentDiv","CommentImg","CommentInputBtnCont","comment","setDeleteModalOpen","seteleteModalData","postOwner","profileImage","onReply","commentUid","border","status","nest","nestName","DeleteModal","deleteModalObj","deleteModalOpen","deleteModalData","deleteModalOnSave","CommentsModal","commentsModalObj","commentsModalOpen","setCommentsModalOpen","defaultData","setCommentsFunc","setComments","comments","addComment","dataa","CommentTree","SinglePost","images","description","likes","icons","commentsModalData","setCommentsModalData","liked","setLiked","alllikes","setAlllikes","pageUid","useParams","hasPostLiked","likePost","Logined","posts","setPosts","Index","ChatDiv","Chat","ChatName","ChatMesssages","ChatMessage","ChatImage","DeleteRoomModal","roomName","SingleChat","socket","setMessage","setMessages","setUsers","chatName","setChatName","isRoom","setIsRoom","roomModalDefaultValue","setRoomModalDefaultValue","deleteRoomOpen","setDeleteRoomOpen","deleteRoomData","setDeleteRoomData","messageRef","messagePosition","true","textAlign","false","messageBg","getMessages","currChatName","oldMessages","chatuserUid","from","seenChat","emit","on","Math","random","scrollTo","scrollHeight","newUsers","newmessage","chatUsers","inChat","newMessages","k","allData","includes","minimizeChatFunc","own","margin","onSubmit","preventDefault","flex","io","off","OnAuthProtecedRoute","Component","rest","SwitchListSecondary","obj","setItems","setPages","setPage","links","PeopleAltIcon","ArticleIcon","useLocation","q","URLSearchParams","pages","List","subheader","ListSubheader","ownCategory","ListItem","ListItemIcon","minWidth","ListItemText","primary","Users","lName","friend","sendedRequest","toRequest","me","titleAccess","updatedItems","Pagination","count","pageurl","Container","BgImage","InnerContainer","ProfileImage","ChangeMyAccountImg","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","result","uploadImageInUserAlbumFunc","formData","AlbumImg","AlbumImgsContainer","Album","onChooseImage","currentImage","setImages","uploadImages","setUploadImages","fileLabel","imgModalOpen","setImgModalOpen","imgModalOnSave","FormData","append","deleteOpen","setDeleteOpen","deleteUid","setDeleteUid","deleteOnSave","fetchMyImages","successButton","zIndex","newUploadImages","c","d","htmlFor","newArr","files","hidden","PostModal","modalPostObj","modalPostOpen","setModalPostOpen","modalPostType","modalPostData","setModalPostType","setModalPostData","modalPostOnSave","albumOpen","setAlbumOpen","RowHandler","SortableHandle","SortableItem","SortableElement","indexx","newImages","SortableList","SortableContainer","index","TextareaAutosize","minRows","minHeight","maxHeight","overflow","font","animationName","letterSpacing","animationDuration","boxSizing","resize","useDragHandle","axis","onSortEnd","oldIndex","newIndex","newItems","arrayMove","PasswordInput","show","setShow","transform","Select1","select","MenuItem","Example1Con","Div2Children","SettingsFields","setError","tempUser","oldPassword","password","save","updatedUser","email","gender","routes","exact","path","currUser","setCurrUser","connection","setConnection","openAlbum","setOpenAlbum","openAlbumType","setOpenAlbumType","albumChooseImage","backgroundImage","fetchUser","fetchPosts","modalPostDefaultData","deleteModalType","setDeleteModalType","setDeleteModalData","window","onscroll","body","html","documentElement","max","offsetHeight","clientHeight","scrollY","innerHeight","old","marginTop","Friends","Sender","Reciever","pageValue","itemsObj","pagesObj","pageObj","itemsAndPagesObj","setPost","undefined","postPost","AuthExample1","setIndex","form","setForm","signIn","signUp","Object","values","every","sqlMessage","NotLogined","App","removeChats","Main","_default","onAuth","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","reducer","store","createStore","auth","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f422df8d.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getUserAxios = () =>\r\n  axios({\r\n    method: \"get\",\r\n    withCredentials: true,\r\n    url: \"/user\",\r\n  });\r\n\r\nexport const signInAxios = (data) => axios.post(\"/signin\", data);\r\n\r\nexport const signUpAxios = (data) => axios.post(\"/signup\", data);\r\n\r\nexport const logoutAxios = () => axios.delete(\"/user\");\r\n","import { getUserAxios, logoutAxios, signInAxios, signUpAxios } from '../axios/auth';\r\n\r\nexport const setUserFunc = async (dispatch, user = null) => {\r\n  if (!user) {\r\n    var {\r\n      data: { data },\r\n    } = await getUserAxios();\r\n    if (data) user = data;\r\n  }\r\n  dispatch({\r\n    type: 'setUser',\r\n    payload: user,\r\n  });\r\n};\r\n\r\nexport const signInFunc = async (dispatch, user) => {\r\n  const {\r\n    data: { data, error },\r\n  } = await signInAxios(user);\r\n  if (error) return { error };\r\n  if (data) {\r\n    dispatch({\r\n      type: 'setUser',\r\n      payload: data,\r\n    });\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const signUpFunc = async (dispatch, user) => {\r\n  const {\r\n    data: { data, error },\r\n  } = await signUpAxios(user);\r\n  if (error) return { error };\r\n  if (data) {\r\n    dispatch({\r\n      type: 'setUser',\r\n      payload: data,\r\n    });\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const logoutFunc = async (dispatch) => {\r\n  await logoutAxios();\r\n  dispatch({\r\n    type: 'setUser',\r\n    payload: null,\r\n  });\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const FullScreenCenter = styled.div`\r\n  flex: 1;\r\n  display: grid;\r\n  place-items: center;\r\n`;\r\n\r\nexport const Center = styled.div`\r\n  display: flex;\r\n  place-items: center;\r\n`;\r\nexport const FlexColumns = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Flex = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const AlignCenter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const JustifySpaceBetween = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const JustifySpaceBetweenAlignCenter = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const PushRight = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 10px 0;\r\n`;\r\n\r\nexport const noUnderlineBlack = {\r\n  color: 'black',\r\n  textDecoration: 'none',\r\n};\r\n\r\nexport const noUnderlineWhite = {\r\n  color: 'white',\r\n  textDecoration: 'none',\r\n};\r\n\r\nexport const ThreeDotMenuP = styled.p`\r\n  cursor: pointer;\r\n  padding: 10px 20px;\r\n  transition: 0.3s;\r\n\r\n  &:hover {\r\n    background: #f6f6f6;\r\n  }\r\n`;\r\n\r\nexport const MUIButton = styled.button`\r\n  display: -webkit-inline-box;\r\n  display: -webkit-inline-flex;\r\n  display: -ms-inline-flexbox;\r\n  display: inline-flex;\r\n  -webkit-align-items: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  -webkit-box-pack: center;\r\n  -ms-flex-pack: center;\r\n  -webkit-justify-content: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  -webkit-tap-highlight-color: transparent;\r\n  background-color: transparent;\r\n  outline: 0;\r\n  border: 0;\r\n  margin: 0;\r\n  border-radius: 0;\r\n  padding: 0;\r\n  cursor: pointer;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  vertical-align: middle;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  -webkit-text-decoration: none;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\r\n  font-weight: 500;\r\n  font-size: 0.875rem;\r\n  line-height: 1.75;\r\n  letter-spacing: 0.02857em;\r\n  text-transform: uppercase;\r\n  min-width: 64px;\r\n  padding: 6px 16px;\r\n  border-radius: 4px;\r\n  -webkit-transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\r\n    box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\r\n    color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n  transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,\r\n    border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n  color: #fff;\r\n  background-color: #1976d2;\r\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%), 0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\r\n`;\r\n\r\nexport const NavbarChat = styled.div`\r\n  position: absolute;\r\n  padding: 10px;\r\n  background: white;\r\n  right: 0;\r\n  width: 350px;\r\n  border-radius: 5px;\r\n  top: 100%;\r\n  box-shadow: 0 0 5px #0000004d;\r\n  z-index: 10;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  max-height: 432px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const FullscreenTransparent = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 9;\r\n`;\r\n\r\nexport const NotificationProfileImg = styled.img`\r\n  height: 35px;\r\n  width: 35px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n`;\r\n","export const queryParams = (url) =>\r\n  (url || document.location.search)\r\n    .replace(/(^\\?)/, \"\")\r\n    .split(\"&\")\r\n    .map(\r\n      function (n) {\r\n        return (n = n.split(\"=\")), (this[n[0]] = n[1]), this;\r\n      }.bind({})\r\n    )[0];\r\n\r\nexport const objectInQuery = (x) =>\r\n  Object.keys(x)\r\n    .map((a) => a + \"=\" + x[a])\r\n    .join(\"&\");\r\n","import React from 'react';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { ThreeDotMenuP } from './styledComponents';\r\n\r\nexport default function ThreeDotMenu({ items = [], Icon, style }) {\r\n  const myIcon = Icon || (\r\n    <IconButton style={{ padding: 0, ...style }} aria-label=\"more\" aria-controls=\"long-menu\" aria-haspopup=\"true\">\r\n      <MoreHorizIcon />\r\n    </IconButton>\r\n  );\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    event.stopPropagation();\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', display: 'inline-block' }}>\r\n      <div onClick={handleClick}>{myIcon}</div>\r\n      <Menu id=\"fade-menu\" anchorEl={anchorEl} keepMounted open={open} onClose={handleClose} TransitionComponent={Fade}>\r\n        {items.map(({ title, onClick = () => {} }) => (\r\n          <ThreeDotMenuP\r\n            key={title}\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onClick(e);\r\n              handleClose(e);\r\n            }}\r\n          >\r\n            {title}\r\n          </ThreeDotMenuP>\r\n          // <MenuItem\r\n          //   onClick={(e) => {\r\n          //     e.stopPropagation();\r\n          //     onClick(e);\r\n          //     handleClose(e);\r\n          //   }}\r\n          // >\r\n          //   {title}\r\n          // </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const getChatMessagesAxios = (uid, { chat = '1', messages = '1' } = {}) =>\r\n  axios.get('/chatmessages/' + uid + `?chat=${chat}&messages=${messages}`);\r\n\r\nexport const sendChatMessageAxios = (uid, { message, notification = 0 }) =>\r\n  axios.post('/chatmessage/' + uid, { message, notification });\r\n\r\nexport const seenChatAxios = (uid) => axios.put('/seenchat/' + uid);\r\n\r\nexport const getPrivateConnectionAxios = (uid) => axios.get('/privateconnection/' + uid);\r\n\r\nexport const getChatAndNotificationsAxios = () => axios.get('/chatsandnotifications');\r\n\r\nexport const createRoomAxios = (data) => axios.post('/room', data);\r\n\r\nexport const updateRoomAxios = (uid, data) => axios.put('/room/' + uid, data);\r\n\r\nexport const deleteRoomAxios = (uid) => axios.delete('/room/' + uid);\r\n","import { getPrivateConnectionAxios } from '../axios/chat';\r\n\r\nexport const addChatFunc = (dispatch, chats, uid, data) => {\r\n  if (chats.find((a) => a.uid == uid)) return;\r\n  const payload = { open: true, uid };\r\n  if (data) payload.data = data;\r\n  dispatch({\r\n    type: 'ADD_CHAT',\r\n    payload,\r\n  });\r\n};\r\n\r\nexport const addPrivateChatFunc = async (uid, dispatch, chats, name) => {\r\n  uid = +uid;\r\n  const {\r\n    data: { data },\r\n  } = await getPrivateConnectionAxios(uid);\r\n  console.log(data);\r\n  addChatFunc(dispatch, chats, data, name);\r\n};\r\n\r\nexport const removeChats = (dispatch) => dispatch({ type: 'REMOVE_CHATS' });\r\n\r\nexport const closeChatFunc = (dispatch, uid) => dispatch({ type: 'CLOSE_CHAT', payload: uid });\r\n\r\nexport const minimizeChatFunc = (dispatch, uid) => dispatch({ type: 'MINIMIZE_CHAT', payload: uid });\r\n\r\nexport const updateNavbarMessages = (dispatch, payload) => dispatch({ type: 'UPDATE_NAVBAR_MESSAGES', payload });\r\n","import { IconButton } from '@mui/material';\r\nimport React, { forwardRef, useEffect, useState } from 'react';\r\nimport { FullscreenTransparent, NavbarChat } from '../styledComponents';\r\n\r\nfunction SimpleCollision({ header, content, onOpen = () => {} }, ref) {\r\n  const [open, setOpen] = useState(false);\r\n  useEffect(() => {\r\n    if (!open) return;\r\n    onOpen();\r\n  }, [open]);\r\n  return (\r\n    <div className=\"relative\">\r\n      <IconButton onClick={() => setOpen(!open)}>{header}</IconButton>\r\n      {open && (\r\n        <>\r\n          <FullscreenTransparent ref={ref} onClick={() => setOpen(false)} />\r\n          <NavbarChat>{content}</NavbarChat>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default forwardRef(SimpleCollision);\r\n","import React from \"react\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nexport default function Loading({ height = \"auto\", width, style = {} }) {\r\n  return (\r\n    <div\r\n      className=\"center\"\r\n      style={{\r\n        height: height + \"px\",\r\n        width: width ? width + \"px\" : \"100%\",\r\n        ...style,\r\n      }}\r\n    >\r\n      <Box sx={{ display: \"flex\" }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Loading from '../Loading';\r\n\r\nexport default function ImgLoading({\r\n  src = '',\r\n  Element,\r\n  loadingHeight,\r\n  loadingWidth,\r\n  noImg = '/images/other/noimage.png',\r\n  loadingStyle = {},\r\n}) {\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  function testImage(URL) {\r\n    var tester = new Image();\r\n    tester.onload = imageFound;\r\n    tester.onerror = imageNotFound;\r\n    tester.src = URL;\r\n  }\r\n\r\n  function imageFound() {\r\n    setLoaded(true);\r\n  }\r\n\r\n  function imageNotFound() {\r\n    setLoaded('error');\r\n  }\r\n  useEffect(() => {\r\n    testImage(src);\r\n  }, [src]);\r\n  return (\r\n    <>\r\n      {loaded ? (\r\n        <>\r\n          {!Element ? (\r\n            <img src={loaded == 'error' ? noImg : src} style={{ height: +loadingHeight, width: +loadingWidth }} />\r\n          ) : (\r\n            <Element src={loaded == 'error' ? noImg : src} />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Loading height={loadingHeight} width={loadingWidth} style={loadingStyle} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const getUsersAxios = ({ search = '', limit = 10, page = 1, noEmailSearch = '' } = {}) =>\r\n  axios.get(`/users?search=${search}&limit=${limit}&page=${page}&noEmailSearch=${noEmailSearch}`);\r\n\r\nexport const getUserAxios = (uid) => axios.get('/user/' + uid);\r\n\r\nexport const sendRequestAxios = (uid) => axios.post('/sendrequest/' + uid);\r\n\r\nexport const cancelRequestAxios = (uid) => axios.delete('/sendrequest/' + uid);\r\n\r\nexport const cancelRequestByUidAxios = (uid) => axios.delete('/sendrequestbyuid/' + uid);\r\n\r\nexport const cancelRecieveRequestAxios = (uid) => axios.delete('/recieverequest/' + uid);\r\n\r\nexport const cancelRecieveRequestByUidAxios = (uid) => axios.delete('/recieverequestByUid/' + uid);\r\n\r\nexport const addFriendAxios = (uid) => axios.post('/friend/' + uid);\r\n\r\nexport const addFriendByUidAxios = (uid) => axios.post('/friendbyuid/' + uid);\r\n\r\nexport const deleteFriendAxios = (uid) => axios.delete('/friend/' + uid);\r\n\r\nexport const connectionToUser = (uid) => axios.get('/userconnection/' + uid);\r\n\r\nexport const updateUserAxios = (uid, data) => axios.put('/user/' + uid, data);\r\n\r\nexport const getMyFriendsAxios = () => axios.get('/myfriends');\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { cancelRequestByUidAxios } from '../../../axios/users';\r\nimport ImgLoading from '../../imgs/ImgLoading';\r\nimport { AlignCenter, FlexColumns, MUIButton, NotificationProfileImg } from '../../styledComponents';\r\n\r\nexport default function RequestFrom({ item, setNotifications }) {\r\n  console.log(item);\r\n  return (\r\n    <AlignCenter>\r\n      <ImgLoading\r\n        loadingHeight=\"30\"\r\n        loadingWidth=\"30\"\r\n        Element={NotificationProfileImg}\r\n        src={'/images/user/' + item.image}\r\n      />\r\n      <FlexColumns className=\"ml-2\">\r\n        <div>Sended request to {item.username}</div>\r\n        <div>\r\n          <MUIButton\r\n            className=\"mt-1 p-1 bg-red\"\r\n            onClick={() => {\r\n              cancelRequestByUidAxios(item.valueUid);\r\n              setNotifications((state) => state.filter((b) => b.uid !== item.uid));\r\n            }}\r\n          >\r\n            Cancel\r\n          </MUIButton>\r\n        </div>\r\n      </FlexColumns>\r\n    </AlignCenter>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { addFriendByUidAxios, cancelRecieveRequestByUidAxios, cancelRequestByUidAxios } from '../../../axios/users';\r\nimport ImgLoading from '../../imgs/ImgLoading';\r\nimport { AlignCenter, FlexColumns, MUIButton, NotificationProfileImg } from '../../styledComponents';\r\n\r\nexport default function RequestTo({ item, setNotifications }) {\r\n  console.log(item);\r\n  return (\r\n    <AlignCenter>\r\n      <ImgLoading\r\n        loadingHeight=\"30\"\r\n        loadingWidth=\"30\"\r\n        Element={NotificationProfileImg}\r\n        src={'/images/user/' + item.image}\r\n      />\r\n      <FlexColumns className=\"ml-2\">\r\n        <div>Sended request from {item.username}</div>\r\n        <div>\r\n          <MUIButton\r\n            className=\"mt-1 p-1 bg-red\"\r\n            onClick={() => {\r\n              cancelRecieveRequestByUidAxios(item.valueUid);\r\n              setNotifications((state) => state.filter((b) => b.uid !== item.uid));\r\n            }}\r\n          >\r\n            Cancel\r\n          </MUIButton>\r\n          <MUIButton\r\n            className=\"mt-1 ml-1 p-1\"\r\n            onClick={() => {\r\n              addFriendByUidAxios(item.valueUid);\r\n              setNotifications((state) => state.filter((b) => b.uid !== item.uid));\r\n            }}\r\n          >\r\n            Accept\r\n          </MUIButton>\r\n        </div>\r\n      </FlexColumns>\r\n    </AlignCenter>\r\n  );\r\n}\r\n","export const inputObjStateChange = (\r\n  { target: { value } },\r\n  title,\r\n  set,\r\n  cb = () => {}\r\n) => {\r\n  set((state) => ({ ...state, [title]: value }));\r\n  cb();\r\n};\r\n\r\nexport const objStateChange = (value, title, set) =>\r\n  set((state) => ({ ...state, [title]: value }));\r\n","import * as React from 'react';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@mui/icons-material/CheckBox';\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n\r\nexport default function ComboCheckbox({\r\n  items = [],\r\n  titleName = 'name',\r\n  placeholder = '',\r\n  onChange = () => {},\r\n  ...props\r\n}) {\r\n  return (\r\n    <Autocomplete\r\n      {...props}\r\n      multiple\r\n      id=\"checkboxes-tags-demo\"\r\n      options={items}\r\n      onChange={(e, b) => {\r\n        onChange(b);\r\n      }}\r\n      disableCloseOnSelect\r\n      getOptionLabel={(option) => option[titleName]}\r\n      renderOption={(props, option, { selected }) => (\r\n        <li {...props}>\r\n          <Checkbox icon={icon} checkedIcon={checkedIcon} style={{ marginRight: 8 }} checked={selected} />\r\n          {option[titleName]}\r\n        </li>\r\n      )}\r\n      renderInput={(params) => <TextField {...params} label=\"\" placeholder={placeholder} />}\r\n    />\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nexport default function SimpleModal({\r\n  open,\r\n  setOpen,\r\n  children,\r\n  onSave = () => {},\r\n  header,\r\n  maxWidth = \"sm\",\r\n  onSaveAvaible = true,\r\n  noBtns = false,\r\n}) {\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    onSave();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        maxWidth={maxWidth}\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{header || \"Modal\"}</DialogTitle>\r\n        <DialogContent>{children}</DialogContent>\r\n        {!noBtns && (\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            {onSaveAvaible && (\r\n              <Button onClick={handleSave} color=\"primary\">\r\n                Save\r\n              </Button>\r\n            )}\r\n          </DialogActions>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import { TextField } from '@mui/material';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { createRoomAxios, updateRoomAxios } from '../../axios/chat';\r\nimport { getMyFriendsAxios } from '../../axios/users';\r\nimport { inputObjStateChange, objStateChange } from '../../commont tools/other';\r\nimport ComboCheckbox from '../selects/ComboCheckbox';\r\nimport SimpleModal from '../SimpleModal';\r\nimport { FlexColumns } from '../styledComponents';\r\n\r\nexport default function RoomModal({\r\n  additionalData = [],\r\n  data,\r\n  setData,\r\n  open,\r\n  setOpen,\r\n  type,\r\n  onSave: onSaveFunc,\r\n  defaultValue = () => {},\r\n  ...props\r\n}) {\r\n  const { user } = useSelector((a) => a);\r\n  const [friends, setFriends] = useState([]);\r\n  const getMyFriends = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getMyFriendsAxios();\r\n    const friendsData = data\r\n      .map((a) => ({ value: user.uid === a.user1 ? a.user2 : a.user1, name: a.name }))\r\n      .filter((a) => !additionalData.find((b) => b.value === a.value));\r\n\r\n    const newFriends = [...friendsData, ...additionalData];\r\n    setFriends(newFriends);\r\n    console.log();\r\n    objStateChange(defaultValue(newFriends) || [], 'users', setData);\r\n  };\r\n  useEffect(() => {\r\n    console.log(open);\r\n    if (!open) return;\r\n    getMyFriends();\r\n  }, [open]);\r\n\r\n  console.log(data);\r\n\r\n  const onSave = async () => {\r\n    let { name, users, uid } = data;\r\n    if (!(name && users.length)) return alert('Please fill all the fields');\r\n    users = users.map((a) => a.value);\r\n    const newData = { name, users };\r\n\r\n    if (type === 'create') {\r\n      await createRoomAxios(newData);\r\n      onSaveFunc({ name, users, friends, type });\r\n      setOpen(false);\r\n    } else if (type === 'update') {\r\n      await updateRoomAxios(uid, newData);\r\n      onSaveFunc({ name, users, friends, type });\r\n      setOpen(false);\r\n    }\r\n  };\r\n  if (!friends) return '';\r\n  // console.log(friends, defaultValue(friends));\r\n  return (\r\n    <SimpleModal open={open} setOpen={setOpen} onSave={onSave} {...props}>\r\n      <FlexColumns className=\"gap-2\">\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Room name\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          value={data.name}\r\n          onChange={(e) => inputObjStateChange(e, 'name', setData)}\r\n        />\r\n        <ComboCheckbox\r\n          size=\"small\"\r\n          value={data.users}\r\n          items={friends}\r\n          placeholder=\"Your friends\"\r\n          onChange={(e) => {\r\n            console.log(e, 123);\r\n            objStateChange(e, 'users', setData);\r\n          }}\r\n        />\r\n      </FlexColumns>\r\n    </SimpleModal>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ImgLoading from '../../imgs/ImgLoading';\r\nimport { AlignCenter, FlexColumns, MUIButton, NotificationProfileImg, noUnderlineWhite } from '../../styledComponents';\r\n\r\nexport default function PostComment({ item, collisionRef }) {\r\n  return (\r\n    <div>\r\n      <AlignCenter>\r\n        <ImgLoading\r\n          loadingHeight=\"30\"\r\n          loadingWidth=\"30\"\r\n          Element={NotificationProfileImg}\r\n          src={'/images/other/comment.png'}\r\n        />\r\n        <p>\r\n          <span style={{ fontWeight: 700 }}>{item.username}</span> commented on your post\r\n          <p\r\n            className=\"mt-1\"\r\n            style={{\r\n              color: '#b6b6b6',\r\n              fontSize: 13,\r\n            }}\r\n          >\r\n            {item.value}\r\n          </p>\r\n          <MUIButton className=\"mt-1 p-1\" onClick={() => collisionRef.current.click()}>\r\n            <Link style={noUnderlineWhite} to={'/post/' + item.valueUid}>\r\n              View post\r\n            </Link>\r\n          </MUIButton>\r\n        </p>\r\n      </AlignCenter>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport { styled, alpha } from '@mui/material/styles';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Box from '@mui/material/Box';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport Typography from '@mui/material/Typography';\r\nimport InputBase from '@mui/material/InputBase';\r\nimport SearchIcon from '@mui/icons-material/Search';\r\nimport { Redirect } from 'react-router';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport {\r\n  AlignCenter,\r\n  Flex,\r\n  FlexColumns,\r\n  FullscreenTransparent,\r\n  JustifySpaceBetweenAlignCenter,\r\n  MUIButton,\r\n  NavbarChat,\r\n  NotificationProfileImg,\r\n  noUnderlineBlack,\r\n  noUnderlineWhite,\r\n} from './styledComponents';\r\nimport { queryParams } from '../commont tools/url';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport ThreeDotMenu from './ThreeDotMenu';\r\nimport { logoutFunc } from '../functions/auth';\r\nimport ForumIcon from '@mui/icons-material/Forum';\r\nimport Badge from '@mui/material/Badge';\r\nimport { getChatAndNotificationsAxios } from '../axios/chat';\r\nimport { addChatFunc, updateNavbarMessages } from '../functions/chat';\r\nimport Moment from 'react-moment';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\nimport { getMyNotificationsAxios, seenAllNotificationsAxios } from '../axios/notifications';\r\nimport SimpleCollision from './collision/SimpleCollision';\r\nimport ImgLoading from './imgs/ImgLoading';\r\nimport {\r\n  addFriendByUidAxios,\r\n  cancelRecieveRequestByUidAxios,\r\n  cancelRequestAxios,\r\n  cancelRequestByUidAxios,\r\n} from '../axios/users';\r\nimport RequestFrom from './navbar/notifications/RequestFrom';\r\nimport RequestTo from './navbar/notifications/RequestTo';\r\nimport RoomModal from './chat/RoomModal';\r\nimport PostComment from './navbar/notifications/PostComment';\r\n\r\nconst Search = styled('div')(({ theme }) => ({\r\n  position: 'relative',\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: alpha(theme.palette.common.white, 0.15),\r\n  '&:hover': {\r\n    backgroundColor: alpha(theme.palette.common.white, 0.25),\r\n  },\r\n  marginLeft: 0,\r\n  width: '100%',\r\n  [theme.breakpoints.up('sm')]: {\r\n    marginLeft: theme.spacing(1),\r\n    width: 'auto',\r\n  },\r\n}));\r\n\r\nconst SearchIconWrapper = styled('div')(({ theme }) => ({\r\n  padding: theme.spacing(0, 2),\r\n  height: '100%',\r\n  position: 'absolute',\r\n  pointerEvents: 'none',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}));\r\n\r\nconst StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: 'inherit',\r\n  '& .MuiInputBase-input': {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function SearchAppBar() {\r\n  let history = useHistory();\r\n  const { category = 'user', value } = queryParams();\r\n  const [search, setSearch] = React.useState(value);\r\n  const { user, chats, navbarMessages } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  const defaultModalData = { name: '', users: [] };\r\n  const [roomModalOpen, setRoomModalOpen] = useState(false);\r\n  const [roomModalData, setRoomModalData] = useState(defaultModalData);\r\n  const [roomModalType, setRoomModalType] = useState(defaultModalData);\r\n\r\n  const getChatData = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getChatAndNotificationsAxios();\r\n    if (data) updateNavbarMessages(dispatch, data);\r\n  };\r\n\r\n  const getNotifications = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getMyNotificationsAxios();\r\n    if (data) setNotifications(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getChatData();\r\n    getNotifications();\r\n  }, []);\r\n\r\n  const notSeened = navbarMessages.reduce((a, b) => a + { 0: 1, 1: 0 }[b.seen], 0);\r\n\r\n  const collisionRef = useRef();\r\n  const notSeenedNotifications = notifications.reduce((a, b) => a + (b.seen ? 0 : 1), 0);\r\n  return (\r\n    <Box className=\"mb-3\">\r\n      <AppBar position=\"static\" style={{ backgroundColor: 'var(--blue)' }}>\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" noWrap component=\"div\" sx={{ flexGrow: 1, display: { xs: 'none', sm: 'block' } }}>\r\n            <Link to=\"/\" style={noUnderlineWhite}>\r\n              Facebook\r\n            </Link>\r\n          </Typography>\r\n          <AlignCenter style={{ gap: 10 }}>\r\n            {user && (\r\n              <Link style={noUnderlineWhite} to={'/profile/' + user.uid}>\r\n                {user.fName}\r\n              </Link>\r\n            )}\r\n            <SimpleCollision\r\n              onOpen={() => {\r\n                seenAllNotificationsAxios();\r\n              }}\r\n              ref={collisionRef}\r\n              header={\r\n                <Badge badgeContent={String(notSeenedNotifications)} color=\"error\">\r\n                  <NotificationsIcon style={{ color: 'white' }} />\r\n                </Badge>\r\n              }\r\n              content={\r\n                <>\r\n                  {!notifications.length && 'No notifications'}\r\n                  {notifications.map((a) => {\r\n                    return (\r\n                      <div key={a.uid}>\r\n                        {\r\n                          {\r\n                            requestFrom: <RequestFrom setNotifications={setNotifications} item={a} />,\r\n                            requestTo: <RequestTo setNotifications={setNotifications} item={a} />,\r\n                            postComment: <PostComment item={a} collisionRef={collisionRef} />,\r\n                          }[a.type]\r\n                        }\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </>\r\n              }\r\n            />\r\n            <SimpleCollision\r\n              header={\r\n                <Badge badgeContent={String(notSeened)} color=\"error\">\r\n                  <ForumIcon style={{ color: 'white' }} />\r\n                </Badge>\r\n              }\r\n              content={\r\n                <>\r\n                  <MUIButton\r\n                    onClick={() => {\r\n                      setRoomModalOpen(true);\r\n                      setRoomModalData(defaultModalData);\r\n                      setRoomModalType('create');\r\n                    }}\r\n                  >\r\n                    Create room\r\n                  </MUIButton>\r\n                  {!navbarMessages.length && 'No messages'}\r\n                  {navbarMessages.map((a, b) => {\r\n                    let name, message, messageSender, date;\r\n                    if (a.name) name = a.name;\r\n                    else if (a.message) name = a.message.name;\r\n\r\n                    if (a.message) {\r\n                      message = a.message.message;\r\n                      date = a.message.date;\r\n                      messageSender = a.message.name;\r\n                    }\r\n                    return (\r\n                      <p\r\n                        onClick={() => addChatFunc(dispatch, chats, a.uid)}\r\n                        key={a.uid}\r\n                        className=\"pointer\"\r\n                        style={{\r\n                          background: '#f8f8f8',\r\n                          padding: '5px',\r\n                          borderRadius: '5px',\r\n                        }}\r\n                      >\r\n                        <p style={{ fontSize: 20 }}>{name}</p>\r\n                        {a.message ? (\r\n                          <JustifySpaceBetweenAlignCenter>\r\n                            <div style={{ color: a.seen ? 'black' : 'var(--blue)' }}>\r\n                              {messageSender}: <span style={{ color: '#c8c8c8' }}>{message}</span>\r\n                            </div>\r\n                            {date && (\r\n                              <div>\r\n                                <Moment date={new Date(date)} durationFromNow /> Ago\r\n                              </div>\r\n                            )}\r\n                          </JustifySpaceBetweenAlignCenter>\r\n                        ) : (\r\n                          'No messages'\r\n                        )}\r\n                      </p>\r\n                    );\r\n                  })}\r\n                </>\r\n              }\r\n            />\r\n            <RoomModal\r\n              open={roomModalOpen}\r\n              setOpen={setRoomModalOpen}\r\n              data={roomModalData}\r\n              setData={setRoomModalData}\r\n              type={roomModalType}\r\n              onSave={getChatData}\r\n            />\r\n            <Search>\r\n              <SearchIconWrapper>\r\n                <SearchIcon style={{ color: 'white' }} />\r\n              </SearchIconWrapper>\r\n              <StyledInputBase\r\n                style={{ color: 'white' }}\r\n                placeholder=\"Search\"\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                inputProps={{ 'aria-label': 'search' }}\r\n                onKeyDown={(e) => {\r\n                  if (e.keyCode == 13 && search) history.push(`/search?value=${search}&category=${category}`);\r\n                }}\r\n              />\r\n            </Search>\r\n            <ThreeDotMenu\r\n              items={[\r\n                {\r\n                  title: (\r\n                    <Link to=\"/settings\" style={{ ...noUnderlineBlack, padding: 0 }}>\r\n                      Settings\r\n                    </Link>\r\n                  ),\r\n                },\r\n                { title: 'Logout', onClick: () => logoutFunc(dispatch) },\r\n              ]}\r\n              style={{ color: 'white' }}\r\n            />\r\n          </AlignCenter>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Box>\r\n  );\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const getMyNotificationsAxios = () => axios.get('/notifications');\r\n\r\nexport const seenAllNotificationsAxios = () => axios.put('/seennotifications');\r\n","import axios from 'axios';\r\n\r\nexport const getPostsFunc = ({ page = 1, userUid = '', asAdmin = 0, limit = 10, search = '' } = {}) =>\r\n  axios.get(`/post?page=${page}&userUid=${userUid}&asAdmin=${asAdmin}&limit=${limit}&search=${search}`);\r\n\r\nexport const createPostFunc = (data, { limit = 10 } = {}) => axios.post(`/post?limit=${limit}`, data);\r\n\r\nexport const updatePostFunc = (uid, data, { returnPosts = '', returnPost = '', userUid = '', limit = 10 } = {}) =>\r\n  axios.put(`/post/${uid}?returnPosts=${returnPosts}&returnPost=${returnPost}&userUid=${userUid}&limit=${limit}`, data);\r\n\r\nexport const deletePostFunc = (uid) => axios.delete('/post/' + uid);\r\n\r\nexport const getCommentsFunc = (postUid) => axios.get('/comments/' + postUid);\r\n\r\nexport const createCommentFunc = (data) => axios.post('/comment', data);\r\n\r\nexport const deleteCommentFunc = (uid) => axios.delete('/comment/' + uid);\r\n\r\nexport const getFriendsPosts = () => axios.get('/friendsposts');\r\n\r\nexport const getPostFunc = (uid) => axios.get('/post/' + uid);\r\n\r\nexport const hasPostLikedAxios = (uid) => axios.get('/postliked/' + uid);\r\n\r\nexport const likePostAxios = (uid) => axios.post('/postlike/' + uid);\r\n","export const beautyDate = (date) => {\r\n  date = typeof date === \"string\" ? new Date(date) : date;\r\n\r\n  const year = date.getFullYear();\r\n  const month = atLeastCharacter(date.getMonth() + 1);\r\n  const day = atLeastCharacter(date.getDate() + 1);\r\n\r\n  return year + \"-\" + month + \"-\" + day;\r\n};\r\n\r\nexport const atLeastCharacter = (a) => (\"0\" + a).slice(-2);\r\n","import styled from \"styled-components\";\r\n\r\nexport const ImgContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(114px, 1fr));\r\n  gap: 10px;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const deleteIconStyle = {\r\n  position: \"absolute\",\r\n  color: \"var(--red)\",\r\n  top: \"2px\",\r\n  right: \"2px\",\r\n  cursor: \"pointer\",\r\n  background: \"white\",\r\n  boxShadow: \"0 0 4px #00000052\",\r\n  borderRadius: \"5px\",\r\n  padding: \"3px\",\r\n};\r\n\r\nexport const moveIconStyle = {\r\n  position: \"absolute\",\r\n  top: \"30px\",\r\n  right: \"2px\",\r\n  cursor: \"pointer\",\r\n  color: \"var(--blue)\",\r\n  background: \"white\",\r\n  boxShadow: \"0 0 4px #00000052\",\r\n  borderRadius: \"5px\",\r\n  padding: \"3px\",\r\n};\r\n\r\nexport const SinglePostContainer = styled.div`\r\n  padding: 25px;\r\n  box-shadow: 0 0 4px #00000021;\r\n  border-radius: 5px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const SinglePostProfileImg = styled.img`\r\n  height: 60px;\r\n  width: 60px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const SinglePostUsername = styled.p`\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n`;\r\n\r\nexport const SinglePostDate = styled.p`\r\n  font-size: 14px;\r\n  color: #b2b2b2;\r\n`;\r\n\r\nexport const SinglePostImgContainer = styled.div`\r\n  margin-top: 30px;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n  gap: 15px;\r\n  align-items: center;\r\n`;\r\n\r\nexport const SinglePostImg = styled.img`\r\n  width: 100%;\r\n  max-height: 200px;\r\n  object-fit: contain;\r\n`;\r\n\r\nexport const SinglePostDescription = styled.pre`\r\n  padding: 20px;\r\n`;\r\n\r\nexport const CommentMainDiv = styled.div`\r\n  border-radius: 10px;\r\n  padding: 0px 12px;\r\n`;\r\n\r\nexport const CommentDiv = styled.div`\r\n  margin-top: 10px;\r\n  display: grid;\r\n  grid-template-columns: 1fr auto auto auto;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nexport const CommentImg = styled.img`\r\n  height: 40px;\r\n  width: 40px;\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const CommentInputBtnCont = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr auto;\r\n  gap: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\n","import React from 'react';\r\nimport { beautyDate } from '../../commont tools/beauty';\r\nimport ImgLoading from '../imgs/ImgLoading';\r\nimport { CommentDiv, CommentImg, CommentMainDiv } from './styledComponent';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { AlignCenter, noUnderlineBlack } from '../styledComponents';\r\n\r\nexport default function PostComment({\r\n  comment,\r\n  setData,\r\n  data,\r\n  setDeleteModalOpen,\r\n  seteleteModalData,\r\n  userUid: postOwner,\r\n}) {\r\n  const { userUid, profileImage, name, date, title, uid } = comment;\r\n  const onReply = data.commentUid == uid;\r\n  const { user } = useSelector((state) => state);\r\n\r\n  return (\r\n    <CommentMainDiv\r\n      style={{\r\n        border: onReply ? '1px solid #e7e7e7' : '',\r\n      }}\r\n    >\r\n      <CommentDiv>\r\n        <Link style={noUnderlineBlack} to={'/profile/' + userUid}>\r\n          <AlignCenter style={{ gap: 10 }}>\r\n            <ImgLoading\r\n              src={`/images/user/${userUid}/${profileImage}`}\r\n              Element={CommentImg}\r\n              noImg=\"/images/other/noProfileImg.png\"\r\n            />\r\n            {name}\r\n          </AlignCenter>\r\n        </Link>\r\n        <span\r\n          className=\"color-blue pointer\"\r\n          onClick={() => setData((state) => ({ ...state, commentUid: onReply ? null : uid }))}\r\n        >\r\n          {onReply ? 'Unreply' : 'Reply'}\r\n        </span>\r\n        <span style={{ fontSize: 13, color: 'darkgrey' }}>{beautyDate(date)}</span>\r\n        {user.uid == userUid || user.uid == postOwner || user.status == 2 ? (\r\n          <DeleteIcon\r\n            className=\"pointer color-red\"\r\n            onClick={() => {\r\n              setDeleteModalOpen(true);\r\n              seteleteModalData(uid);\r\n            }}\r\n          />\r\n        ) : (\r\n          ''\r\n        )}\r\n      </CommentDiv>\r\n      <p className=\"p-2\">{title}</p>\r\n    </CommentMainDiv>\r\n  );\r\n}\r\n","export const setChildrenItemsToParent = (items, id, parent) => {\r\n  const currentItems = [...items].filter((a) => !a[parent]);\r\n  setItemsFunc(items, currentItems, id, parent);\r\n  return currentItems;\r\n};\r\n\r\nfunction setItemsFunc(items, currentItems, id, parent) {\r\n  for (let k of currentItems) {\r\n    k.items = items.filter((b) => b[parent] == k[id]);\r\n    if (k.items.length) {\r\n      items = items.filter((a) => a.UID != k.items.find((b) => b.UID == a.UID));\r\n      setItemsFunc(items, k.items, id, parent);\r\n    }\r\n  }\r\n}\r\n\r\nexport const nest = (data, nestName = \"\", current = null) =>\r\n  data\r\n    .filter((a) => a[nestName] == current)\r\n    .map((a) => ({ ...a, items: nest(data, nestName, a.uid) }));\r\n","import React from \"react\";\r\nimport SimpleModal from \"../SimpleModal\";\r\n\r\nexport default function DeleteModal({\r\n  deleteModalObj: {\r\n    deleteModalOpen,\r\n    setDeleteModalOpen,\r\n    deleteModalData = {},\r\n    deleteModalOnSave,\r\n  },\r\n}) {\r\n  return (\r\n    <SimpleModal\r\n      open={deleteModalOpen}\r\n      setOpen={setDeleteModalOpen}\r\n      header={deleteModalData.title || \"Modal\"}\r\n      onSave={deleteModalOnSave}\r\n    >\r\n      Are you sure you want to delete\r\n    </SimpleModal>\r\n  );\r\n}\r\n","import { TextField } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport SimpleModal from \"../SimpleModal\";\r\nimport {\r\n  createCommentFunc,\r\n  deleteCommentFunc,\r\n  getCommentsFunc,\r\n} from \"../../axios/post\";\r\nimport PostComment from \"./PostComment\";\r\nimport { CommentInputBtnCont } from \"./styledComponent\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { inputObjStateChange } from \"../../commont tools/other\";\r\nimport { nest, setChildrenItemsToParent } from \"../../commont tools/tree\";\r\nimport DeleteModal from \"./DeleteModal\";\r\n\r\nexport default function CommentsModal({\r\n  commentsModalObj: {\r\n    commentsModalOpen,\r\n    setCommentsModalOpen,\r\n    uid: postUid,\r\n    userUid,\r\n  },\r\n}) {\r\n  const defaultData = {\r\n    title: \"\",\r\n    commentUid: null,\r\n    userUid: null,\r\n    postUid,\r\n  };\r\n\r\n  const setCommentsFunc = (data) => setComments(nest(data, \"commentUid\"));\r\n\r\n  const [comments, setComments] = useState([]);\r\n  const [data, setData] = useState(defaultData);\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [deleteModalData, seteleteModalData] = useState(null);\r\n  const deleteModalOnSave = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await deleteCommentFunc(deleteModalData);\r\n    if (data) setCommentsFunc(data);\r\n    setDeleteModalOpen(false);\r\n  };\r\n\r\n  const deleteModalObj = {\r\n    deleteModalOnSave,\r\n    deleteModalOpen,\r\n    setDeleteModalOpen,\r\n  };\r\n\r\n  useEffect(async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getCommentsFunc(postUid);\r\n    setCommentsFunc(data);\r\n  }, []);\r\n\r\n  const addComment = async () => {\r\n    const { title } = data;\r\n    if (!title) return;\r\n    const {\r\n      data: { data: dataa },\r\n    } = await createCommentFunc(data);\r\n    if (dataa) setCommentsFunc(dataa);\r\n    setData(defaultData);\r\n  };\r\n  const CommentTree = (items = comments) => (\r\n    <>\r\n      {items.map((a) => (\r\n        <div key={a.uid}>\r\n          <PostComment\r\n            setData={setData}\r\n            data={data}\r\n            comment={a}\r\n            setDeleteModalOpen={setDeleteModalOpen}\r\n            seteleteModalData={seteleteModalData}\r\n            userUid={userUid}\r\n          />\r\n          <div style={{ paddingLeft: 40 }}>\r\n            {a.items.length ? <>{CommentTree(a.items)} </> : \"\"}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <SimpleModal\r\n      header=\"Comments\"\r\n      maxWidth=\"md\"\r\n      open={commentsModalOpen}\r\n      setOpen={setCommentsModalOpen}\r\n      noBtns\r\n    >\r\n      <CommentInputBtnCont>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Add comment\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          value={data.title}\r\n          onChange={(e) => inputObjStateChange(e, \"title\", setData)}\r\n        />\r\n        <Button\r\n          size=\"small\"\r\n          variant=\"contained\"\r\n          onClick={addComment}\r\n          style={{ backgroundColor: \"var(--blue)\", color: \"white\" }}\r\n        >\r\n          Add Comment\r\n        </Button>\r\n      </CommentInputBtnCont>\r\n      {CommentTree()}\r\n      <DeleteModal deleteModalObj={deleteModalObj} />\r\n    </SimpleModal>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport ImgLoading from '../imgs/ImgLoading';\r\nimport { Center, FlexColumns, JustifySpaceBetween, noUnderlineBlack } from '../styledComponents';\r\nimport CommentsModal from './CommentsModal';\r\nimport {\r\n  SinglePostContainer,\r\n  SinglePostDate,\r\n  SinglePostDescription,\r\n  SinglePostImg,\r\n  SinglePostImgContainer,\r\n  SinglePostProfileImg,\r\n  SinglePostUsername,\r\n} from './styledComponent';\r\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Badge from '@mui/material/Badge';\r\nimport { hasPostLikedAxios, likePostAxios } from '../../axios/post';\r\n\r\nexport default function SinglePost({\r\n  post: { image, username, date, userUid, images, description, uid, likes = 0 },\r\n  icons = [],\r\n}) {\r\n  const [commentsModalOpen, setCommentsModalOpen] = useState(false);\r\n  const [commentsModalData, setCommentsModalData] = useState({});\r\n  const [liked, setLiked] = useState(0);\r\n  const [alllikes, setAlllikes] = useState(0);\r\n\r\n  const commentsModalObj = {\r\n    commentsModalOpen,\r\n    setCommentsModalOpen,\r\n    commentsModalData,\r\n    setCommentsModalData,\r\n    uid,\r\n    userUid,\r\n  };\r\n\r\n  const { uid: pageUid } = useParams();\r\n\r\n  const hasPostLiked = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await hasPostLikedAxios(uid);\r\n    if (data) {\r\n      setLiked(data ? 1 : 0);\r\n      setAlllikes(data ? likes - 1 : likes);\r\n    } else setAlllikes(likes);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCommentsModalOpen(false);\r\n  }, [pageUid]);\r\n\r\n  useEffect(() => {\r\n    hasPostLiked();\r\n  }, [likes]);\r\n\r\n  const likePost = async () => {\r\n    setLiked(liked ? 0 : 1);\r\n    likePostAxios(uid);\r\n  };\r\n\r\n  return (\r\n    <SinglePostContainer>\r\n      <JustifySpaceBetween>\r\n        <Center style={{ gap: 10 }}>\r\n          <ImgLoading noImg=\"/images/other/noProfileImg.png\" Element={SinglePostProfileImg} src={image} />\r\n          <FlexColumns>\r\n            <SinglePostUsername>\r\n              <Link to={'/profile/' + userUid} style={noUnderlineBlack}>\r\n                {username}\r\n              </Link>\r\n            </SinglePostUsername>\r\n            <SinglePostDate>{date.slice(0, 10)}</SinglePostDate>\r\n          </FlexColumns>\r\n        </Center>\r\n        <div>\r\n          {icons.map(({ icon, onClick = () => {} }) => {\r\n            return (\r\n              <span className=\"pointer\" onClick={onClick}>\r\n                {icon}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </JustifySpaceBetween>\r\n      <SinglePostDescription>{description}</SinglePostDescription>\r\n      <SinglePostImgContainer>\r\n        {images.map((a) => (\r\n          <ImgLoading key={a.uid} Element={SinglePostImg} src={`/images/user/${a.url}`} />\r\n        ))}\r\n      </SinglePostImgContainer>\r\n      <p className=\"color-blue pointer mt-3\" onClick={() => setCommentsModalOpen(true)}>\r\n        Comments\r\n      </p>\r\n      {commentsModalOpen && <CommentsModal commentsModalObj={commentsModalObj} />}\r\n      <br />\r\n      <IconButton onClick={likePost}>\r\n        <Badge badgeContent={String(alllikes + (liked ? 1 : 0))} color=\"error\">\r\n          <ThumbUpIcon style={{ color: liked ? 'var(--blue)' : '' }} />\r\n        </Badge>\r\n      </IconButton>\r\n    </SinglePostContainer>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  createPostFunc,\r\n  deletePostFunc,\r\n  getFriendsPosts,\r\n  updatePostFunc,\r\n} from \"../../../axios/post\";\r\nimport SinglePost from \"../../../components/post/SinglePost\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport { useSelector } from \"react-redux\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\n\r\nexport default function Logined() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const { user } = useSelector((state) => state);\r\n\r\n  const modalPostDefaultData = {\r\n    description: \"\",\r\n    images: [],\r\n  };\r\n\r\n  const [modalPostOpen, setModalPostOpen] = useState(false);\r\n  const [modalPostType, setModalPostType] = useState(\"\");\r\n  const [modalPostData, setModalPostData] = useState(modalPostDefaultData);\r\n\r\n  const modalPostOnSave = async () => {\r\n    const { description, uid, images } = modalPostData;\r\n    if (!description) return;\r\n    if (modalPostType == \"create\") {\r\n      const {\r\n        data: { data },\r\n      } = await createPostFunc({\r\n        description,\r\n        images,\r\n      });\r\n      if (data) {\r\n        const { posts, pages } = data;\r\n        setPosts(posts);\r\n      }\r\n    } else if (modalPostType == \"update\") {\r\n      const {\r\n        data: { data },\r\n      } = await updatePostFunc(uid, {\r\n        description,\r\n        images,\r\n      });\r\n\r\n      if (data) {\r\n        const { posts, pages } = data;\r\n        setPosts(posts);\r\n      }\r\n    }\r\n\r\n    setModalPostOpen(false);\r\n  };\r\n\r\n  const modalPostObj = {\r\n    modalPostOpen,\r\n    setModalPostOpen,\r\n    modalPostType,\r\n    setModalPostType,\r\n    modalPostData,\r\n    setModalPostData,\r\n    modalPostOnSave,\r\n  };\r\n\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [deleteModalType, setDeleteModalType] = useState(false);\r\n  const [deleteModalData, setDeleteModalData] = useState({});\r\n\r\n  const deleteModalOnSave = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await deletePostFunc(deleteModalData.uid);\r\n    if (data) {\r\n      const { posts, pages } = data;\r\n      setPosts(posts);\r\n      setDeleteModalOpen(false);\r\n    }\r\n  };\r\n\r\n  const deleteModalObj = {\r\n    deleteModalOpen,\r\n    setDeleteModalOpen,\r\n    deleteModalType,\r\n    setDeleteModalType,\r\n    deleteModalData,\r\n    setDeleteModalData,\r\n    deleteModalOnSave,\r\n  };\r\n  useEffect(async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getFriendsPosts();\r\n    setPosts(data);\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {posts.map((a) => (\r\n        <SinglePost\r\n          key={a.uid}\r\n          post={{\r\n            ...a,\r\n            username: a.name,\r\n            image: \"/images/user/\" + a.userUid + \"/\" + a.profileImage,\r\n          }}\r\n          // icons={\r\n          //   user.uid == user.uid\r\n          //     ? [\r\n          //         {\r\n          //           icon: (\r\n          //             <EditIcon\r\n          //               style={{\r\n          //                 color: \"var(--blue)\",\r\n          //               }}\r\n          //             />\r\n          //           ),\r\n          //           onClick: () => {\r\n          //             let { description, images, uid } = a;\r\n          //             images = images.map((a) => a.url);\r\n          //             setModalPostData({ description, uid, images });\r\n          //             setModalPostOpen(true);\r\n          //             setModalPostType(\"update\");\r\n          //           },\r\n          //         },\r\n          //         {\r\n          //           icon: (\r\n          //             <DeleteIcon\r\n          //               style={{ color: \"var(--red)\" }}\r\n          //               onClick={() => {\r\n          //                 let { description, uid } = a;\r\n          //                 setDeleteModalOpen(true);\r\n          //                 setDeleteModalData({\r\n          //                   uid,\r\n          //                   header: description.slice(0, 30),\r\n          //                 });\r\n          //               }}\r\n          //             />\r\n          //           ),\r\n          //         },\r\n          //       ]\r\n          //     : []\r\n          // }\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Logined from \"./Logined\";\r\n\r\nexport default function Index() {\r\n  return <Logined />;\r\n}\r\n","import ProtectedRoute from \"../routeTypes/default\";\r\n\r\nimport Main from \"../pages/default/main\";\r\n\r\nexport default [];\r\n","import styled from 'styled-components';\r\n\r\nexport const ChatDiv = styled.div`\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  padding: 10px;\r\n  z-index: 99;\r\n  display: flex;\r\n  gap: 10px;\r\n  align-items: flex-end;\r\n  max-width: 100vw;\r\n  overflow-x: auto;\r\n`;\r\n\r\nexport const Chat = styled.div`\r\n  background: white;\r\n  height: 100%;\r\n  box-shadow: 0 0 4px #00000057;\r\n  border-radius: 5px;\r\n  min-width: 310px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const ChatName = styled.div`\r\n  background-color: var(--blue);\r\n  color: white;\r\n`;\r\n\r\nexport const ChatMesssages = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n  overflow-y: auto;\r\n  height: 300px;\r\n  max-width: 310px;\r\n`;\r\n\r\nexport const ChatMessage = styled.div`\r\n  padding: 4px 8px;\r\n  border-radius: 14px;\r\n  background: #f0f0f0;\r\n  display: inline-block;\r\n`;\r\n\r\nexport const ChatImage = styled.img`\r\n  height: 35px;\r\n  width: 35px;\r\n  object-fit: conver;\r\n  border-radius: 50%;\r\n  margin-right: 5px;\r\n`;\r\n","import React from 'react';\r\nimport { deleteRoomAxios } from '../../axios/chat';\r\n\r\nimport SimpleModal from '../SimpleModal';\r\n\r\nexport default function DeleteRoomModal({\r\n  data,\r\n  open,\r\n  setOpen,\r\n  type,\r\n  onSave: onSaveFunc,\r\n  defaultValue = () => {},\r\n  ...props\r\n}) {\r\n  const onSave = async () => {\r\n    const { uid } = data;\r\n    await deleteRoomAxios(uid);\r\n    onSaveFunc();\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <SimpleModal open={open} setOpen={setOpen} onSave={onSave} {...props}>\r\n      Are you sure you want to delete room {data.roomName}\r\n    </SimpleModal>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { AlignCenter, Flex, JustifySpaceBetweenAlignCenter, MUIButton } from '../styledComponents';\r\nimport { Chat, ChatImage, ChatMessage, ChatMesssages, ChatName } from './styledComponets';\r\nimport TextField from '@mui/material/TextField';\r\nimport { getUserAxios } from '../../axios/users';\r\nimport { getChatDataAxios, getChatMessagesAxios, seenChatAxios, sendChatMessageAxios } from '../../axios/chat';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AspectRatioIcon from '@mui/icons-material/AspectRatio';\r\nimport { closeChatFunc, minimizeChatFunc, updateNavbarMessages } from '../../functions/chat';\r\nimport ImgLoading from '../imgs/ImgLoading';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport RoomModal from './RoomModal';\r\nimport DeleteRoomModal from './DeleteRoomModal';\r\n\r\nexport default function SingleChat({ chat: { uid, open }, socket }) {\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [users, setUsers] = useState([]);\r\n  const { user, navbarMessages } = useSelector((a) => a);\r\n  const [chatName, setChatName] = useState('');\r\n  const [isRoom, setIsRoom] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const defaultModalData = { name: '', users: [] };\r\n  const [roomModalOpen, setRoomModalOpen] = useState(false);\r\n  const [roomModalData, setRoomModalData] = useState(defaultModalData);\r\n  const [roomModalDefaultValue, setRoomModalDefaultValue] = useState([]);\r\n\r\n  const [deleteRoomOpen, setDeleteRoomOpen] = useState(false);\r\n  const [deleteRoomData, setDeleteRoomData] = useState({});\r\n  const deleteRoomOnSave = () => {\r\n    updateNavbarMessages(\r\n      dispatch,\r\n      navbarMessages.filter((a) => a.uid !== uid),\r\n    );\r\n\r\n    socket.emit('disconnectchat', uid);\r\n    closeChatFunc(dispatch, uid);\r\n  };\r\n\r\n  const messageRef = useRef();\r\n  const send = () => {\r\n    if (!message) return;\r\n    messageRef.current = { uid, message };\r\n    socket.emit('sendMessage', { uid, message, from: user.uid });\r\n    setMessages([...messages, { from: user.uid, message, username: '', date: new Date() - 1, uid: Math.random() }]);\r\n    setMessage('');\r\n    sendChatMessageAxios(uid, { message });\r\n  };\r\n\r\n  const messagePosition = {\r\n    true: { display: 'flex', justifyContent: ' flex-end', textAlign: 'right', marginLeft: 'auto' },\r\n    false: {},\r\n  };\r\n  const messageBg = {\r\n    true: { backgroundColor: 'var(--blue)', color: 'white' },\r\n    false: {},\r\n  };\r\n\r\n  const getMessages = async (params = {}) => {\r\n    const {\r\n      data: { data },\r\n    } = await getChatMessagesAxios(uid, params);\r\n    if (data) {\r\n      const { users, messages, chat } = data;\r\n      if (users && chat) {\r\n        setUsers(users);\r\n\r\n        let currChatName = '';\r\n        if (chat.name) {\r\n          setIsRoom(true);\r\n          currChatName = chat.name;\r\n        } else {\r\n          const { username } = users.filter((a) => a.userUid !== user.uid)[0];\r\n          currChatName = username;\r\n        }\r\n\r\n        setChatName(currChatName);\r\n      }\r\n      if (messages) {\r\n        const oldMessages = messages.map(({ message, date, chatuserUid, uid, username, image, notification }) => ({\r\n          message,\r\n          date,\r\n          from: users.find(({ uid }) => uid == chatuserUid)?.userUid,\r\n          uid,\r\n          username,\r\n          image,\r\n          notification,\r\n        }));\r\n        setMessages(oldMessages);\r\n      }\r\n    }\r\n    setLoaded(true);\r\n  };\r\n\r\n  const seenChat = async () => {\r\n    seenChatAxios(uid);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.emit('join', uid);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getMessages();\r\n    seenChat();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    socket.on('message', (data) => {\r\n      setMessages((state) => [...state, { ...data, uid: Math.random() }]);\r\n      seenChat();\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    ref.current?.scrollTo(0, ref.current.scrollHeight);\r\n  }, [messages]);\r\n\r\n  const ref = useRef();\r\n  return (\r\n    <Chat>\r\n      {roomModalOpen && (\r\n        <RoomModal\r\n          additionalData={users\r\n            .filter((a) => a.userUid !== user.uid)\r\n            .map((a) => ({ value: a.userUid, name: a.username }))}\r\n          open={roomModalOpen}\r\n          setOpen={setRoomModalOpen}\r\n          data={roomModalData}\r\n          setData={setRoomModalData}\r\n          type={'update'}\r\n          onSave={({ name, users: newUsers, friends, type }) => {\r\n            if (chatName !== name) {\r\n              const message = 'changed room name to ' + name;\r\n              const newmessage = {\r\n                uid,\r\n                message: message,\r\n                from: user.uid,\r\n                notification: 1,\r\n              };\r\n              socket.emit('sendMessage', newmessage);\r\n\r\n              sendChatMessageAxios(uid, newmessage);\r\n              setMessages([...messages, { message: message, notification: 1, uid: Math.random(), from: user.uid }]);\r\n            }\r\n\r\n            const chatUsers = users.filter((a) => a.userUid !== user.uid && a.inChat === 1);\r\n            const newMessages = [];\r\n\r\n            for (let k of newUsers.filter((a) => !chatUsers.find((b) => b.userUid === a))) {\r\n              const name = friends.find((a) => a.value === k)?.name;\r\n              const message = 'added user ' + name;\r\n              const newmessage = {\r\n                uid,\r\n                message,\r\n                from: user.uid,\r\n                notification: 1,\r\n              };\r\n              socket.emit('sendMessage', newmessage);\r\n              newMessages.push({\r\n                from: user.uid,\r\n                message,\r\n                username: '',\r\n                date: new Date() - 1,\r\n                uid: Math.random(),\r\n                notification: 1,\r\n              });\r\n            }\r\n\r\n            for (let k of chatUsers.filter((a) => !newUsers.find((b) => a.userUid === b))) {\r\n              const name = friends.find((a) => a.value === k.userUid)?.name;\r\n              const message = 'deleted user ' + name;\r\n              const newmessage = {\r\n                uid,\r\n                message,\r\n                from: user.uid,\r\n                notification: 1,\r\n              };\r\n              socket.emit('sendMessage', newmessage);\r\n              newMessages.push({\r\n                from: user.uid,\r\n                message,\r\n                username: '',\r\n                date: new Date() - 1,\r\n                uid: Math.random(),\r\n                notification: 1,\r\n              });\r\n            }\r\n\r\n            if (newMessages.length) setMessages([...messages, ...newMessages]);\r\n\r\n            getMessages({ chat: 1, messages: '' });\r\n          }}\r\n          defaultValue={(allData) => allData.filter((a) => roomModalDefaultValue.includes(a.value))}\r\n        />\r\n      )}\r\n      <DeleteRoomModal\r\n        open={deleteRoomOpen}\r\n        setOpen={setDeleteRoomOpen}\r\n        data={deleteRoomData}\r\n        onSave={deleteRoomOnSave}\r\n      />\r\n      <ChatName className=\"px-3 py-2\">\r\n        <JustifySpaceBetweenAlignCenter>\r\n          <span>{chatName}</span>\r\n          <div>\r\n            {isRoom && (\r\n              <>\r\n                <DeleteIcon\r\n                  onClick={() => {\r\n                    setDeleteRoomOpen(true);\r\n                    setDeleteRoomData({ roomName: chatName, uid });\r\n                  }}\r\n                  className=\"pointer\"\r\n                />\r\n                <EditIcon\r\n                  onClick={() => {\r\n                    setRoomModalDefaultValue(\r\n                      users.filter((a) => a.userUid !== user.uid && a.inChat === 1).map((a) => a.userUid),\r\n                    );\r\n                    setRoomModalData({\r\n                      name: chatName,\r\n                      users: users.filter((a) => a.userUid !== user.uid).map((a) => a.userUid),\r\n                      uid,\r\n                    });\r\n                    setRoomModalOpen(true);\r\n                  }}\r\n                  className=\"pointer\"\r\n                />\r\n              </>\r\n            )}\r\n            <AspectRatioIcon\r\n              className=\"pointer\"\r\n              onClick={() => {\r\n                minimizeChatFunc(dispatch, uid);\r\n              }}\r\n            />\r\n            <CloseIcon\r\n              className=\"pointer\"\r\n              onClick={() => {\r\n                socket.emit('disconnectchat', uid);\r\n                closeChatFunc(dispatch, uid);\r\n              }}\r\n            />\r\n          </div>\r\n        </JustifySpaceBetweenAlignCenter>\r\n      </ChatName>\r\n      {open && (\r\n        <>\r\n          <ChatMesssages className=\"p-3\" ref={ref}>\r\n            {!loaded && 'Loading'}\r\n            {messages.map((a) => {\r\n              const own = user.uid === a.from;\r\n\r\n              const { username, profileImage } = users.find((b) => b.userUid === a.from);\r\n              a.username = user.uid === a.from ? 'You' : username;\r\n              a.image = a.from + '/' + profileImage;\r\n\r\n              if (a.notification)\r\n                return (\r\n                  <p\r\n                    style={{\r\n                      fontSize: '13px',\r\n                      textAlign: 'center',\r\n                      margin: '5px 0',\r\n                      color: '#b8b8b8',\r\n                    }}\r\n                  >\r\n                    {a.username} {a.message}\r\n                  </p>\r\n                );\r\n\r\n              return (\r\n                <AlignCenter key={a.uid}>\r\n                  {!own && (\r\n                    <ImgLoading\r\n                      Element={ChatImage}\r\n                      loadingWidth=\"35\"\r\n                      loadingHeight=\"35\"\r\n                      src={'/images/user/' + a.image}\r\n                    />\r\n                  )}\r\n                  <div style={{ ...messagePosition[own], maxWidth: '50%' }}>\r\n                    {!own && <p className=\"mb-2\">{a.username}</p>}\r\n                    <ChatMessage style={messageBg[own]}>{a.message}</ChatMessage>\r\n                  </div>\r\n                </AlignCenter>\r\n              );\r\n            })}\r\n          </ChatMesssages>\r\n          <form\r\n            onSubmit={(e) => {\r\n              e.preventDefault();\r\n              send();\r\n            }}\r\n          >\r\n            <Flex className=\"gap-1 p-3\">\r\n              <TextField\r\n                id=\"outlined-basic\"\r\n                label=\"Message\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                fullWidth\r\n                style={{ flex: 1 }}\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n              />\r\n              <MUIButton style={{ padding: 4, fontSize: '13px' }}>Send</MUIButton>\r\n            </Flex>\r\n          </form>\r\n        </>\r\n      )}\r\n    </Chat>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport SingleChat from './SingleChat';\r\nimport { ChatDiv } from './styledComponets';\r\nimport io from 'socket.io-client';\r\nimport { addChatFunc } from '../../functions/chat';\r\n\r\nlet socket;\r\nexport default function Index() {\r\n  const { chats, user } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const ref = useRef('');\r\n\r\n  useEffect(() => {\r\n    socket = io();\r\n    socket.emit('join', 'user' + user.uid);\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   socket.on('message', (data) => {\r\n  //     setMessage(data);\r\n  //   });\r\n  // }, [message]);\r\n\r\n  useEffect(() => {\r\n    socket.off('openChat');\r\n    socket.on('openChat', (uid) => {\r\n      addChatFunc(dispatch, ref.current, uid);\r\n    });\r\n  }, [dispatch, chats]);\r\n\r\n  useEffect(() => {\r\n    ref.current = chats;\r\n  }, [chats]);\r\n\r\n  return (\r\n    <ChatDiv>\r\n      {chats.map((chat) => (\r\n        <SingleChat key={chat.uid} socket={socket} chat={chat} />\r\n      ))}\r\n    </ChatDiv>\r\n  );\r\n}\r\n","// import { Route, Redirect } from \"react-router-dom\";\r\n// import { useSelector } from \"react-redux\";\r\n// import NavBar from \"../components/NavBar\";\r\n\r\n// export default ({ component: Component, path }) => {\r\n//   const { user } = useSelector((state) => state);\r\n\r\n//   if (user) return <Route exact path={path} component={Component} />;\r\n//   else if (user == false) return \"\";\r\n//   else return <Redirect to=\"/\" />;\r\n// };\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport NavBar from '../components/NavBar';\r\nimport Chat from '../components/chat';\r\n\r\nexport default function OnAuthProtecedRoute({ component: Component, ...rest }) {\r\n  const { user } = useSelector((state) => state);\r\n\r\n  if (user)\r\n    return (\r\n      <Route {...rest}>\r\n        <Chat />\r\n        <NavBar />\r\n        <Component />\r\n      </Route>\r\n    );\r\n  else if (user === false) return '';\r\n  else return <Redirect to=\"/\" />;\r\n}\r\n","import * as React from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListSubheader from \"@mui/material/ListSubheader\";\r\nimport ArticleIcon from \"@mui/icons-material/Article\";\r\nimport PeopleAltIcon from \"@mui/icons-material/PeopleAlt\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Center, noUnderlineBlack } from \"../../../components/styledComponents\";\r\nimport { queryParams } from \"../../../commont tools/url\";\r\nimport { getUsersAxios } from \"../../../axios/users\";\r\nimport { getPostsFunc } from \"../../../axios/post\";\r\nimport { useLocation } from \"react-router-dom\";\r\nexport default function SwitchListSecondary({\r\n  obj: { setItems, setPages, setPage },\r\n  props,\r\n}) {\r\n  const links = [\r\n    { icon: PeopleAltIcon, title: \"People\", category: \"user\" },\r\n    { icon: ArticleIcon, title: \"Posts\", category: \"post\" },\r\n  ];\r\n  const { search } = useLocation();\r\n  const q = new URLSearchParams(search);\r\n\r\n  const value = q.get(\"value\");\r\n  const category = q.get(\"category\");\r\n  const page = q.get(\"page\");\r\n\r\n  React.useEffect(() => {\r\n    setItems([]);\r\n    setPage(1);\r\n  }, [category]);\r\n\r\n  React.useEffect(async () => {\r\n    if (category == \"user\") {\r\n      console.log(page);\r\n      const {\r\n        data: { data },\r\n      } = await getUsersAxios({\r\n        search: value,\r\n        page: page || 1,\r\n        noEmailSearch: \"1\",\r\n      });\r\n      if (data) {\r\n        const { users, pages } = data;\r\n        setItems(users);\r\n        setPages(pages);\r\n      }\r\n    } else if (category == \"post\") {\r\n      const {\r\n        data: { data },\r\n      } = await getPostsFunc({ page: page || 1, search: value });\r\n      if (data) {\r\n        const { posts, pages } = data;\r\n        setItems(posts);\r\n        setPages(pages);\r\n      }\r\n    }\r\n  }, [search]);\r\n\r\n  return (\r\n    <List\r\n      sx={{ width: \"100%\", maxWidth: 300, boxShadow: \"none!important\" }}\r\n      style={{ boxShadow: \"none!important\" }}\r\n      subheader={<ListSubheader>Categories</ListSubheader>}\r\n    >\r\n      {links.map(({ icon: Icon, title, category: ownCategory }, b) => (\r\n        <ListItem\r\n          key={b}\r\n          style={{\r\n            background: ownCategory == category ? \"#f5f5f5\" : \"inherit\",\r\n          }}\r\n        >\r\n          <Link\r\n            style={{ width: \"100%\", ...noUnderlineBlack }}\r\n            to={`/search?value=${value}&category=${ownCategory}`}\r\n          >\r\n            <Center>\r\n              <ListItemIcon style={{ minWidth: 40 }}>\r\n                <Icon />\r\n              </ListItemIcon>\r\n              <ListItemText id=\"switch-list-label-wifi\" primary={title} />\r\n            </Center>\r\n          </Link>\r\n        </ListItem>\r\n      ))}\r\n    </List>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport ListSubheader from '@mui/material/ListSubheader';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Center, FlexColumns, noUnderlineBlack } from '../../../components/styledComponents';\r\nimport PeopleAltIcon from '@mui/icons-material/PeopleAlt';\r\nimport Pagination from '@mui/material/Pagination';\r\nimport { queryParams } from '../../../commont tools/url';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport CancelScheduleSendIcon from '@mui/icons-material/CancelScheduleSend';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport PersonAddAlt1Icon from '@mui/icons-material/PersonAddAlt1';\r\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\r\nimport {\r\n  addFriendAxios,\r\n  cancelRecieveRequestAxios,\r\n  cancelRequestAxios,\r\n  deleteFriendAxios,\r\n  sendRequestAxios,\r\n} from '../../../axios/users';\r\nimport { addPrivateChatFunc } from '../../../functions/chat';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nexport default function Users({ obj: { items, pages, page, setPage, setItems } }) {\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { chats } = useSelector((state) => state);\r\n  const { value, category, page: paramsPage = 1 } = queryParams();\r\n  const message = (uid, name) => {\r\n    addPrivateChatFunc(uid, dispatch, chats, name);\r\n  };\r\n\r\n  return (\r\n    <FlexColumns style={{ gap: 20, flex: 1 }}>\r\n      <List\r\n        sx={{ width: '100%', boxShadow: 'none!important' }}\r\n        style={{ boxShadow: 'none!important' }}\r\n        subheader={<ListSubheader>Users</ListSubheader>}\r\n      >\r\n        {items.map(({ uid, fName, lName, friend, sendedRequest, toRequest, me }, b) => (\r\n          <ListItem key={uid + fName + lName}>\r\n            <Link style={{ width: '100%', ...noUnderlineBlack }} to={`/profile/${uid}`}>\r\n              <Center>\r\n                <ListItemIcon style={{ minWidth: 40 }}>\r\n                  <PeopleAltIcon />\r\n                </ListItemIcon>\r\n                <ListItemText id=\"switch-list-label-wifi\" primary={fName + ' ' + lName} />\r\n              </Center>\r\n            </Link>\r\n            {friend && (\r\n              <>\r\n                <EmailIcon\r\n                  onClick={() => message(uid, fName + ' ' + lName)}\r\n                  titleAccess=\"Message\"\r\n                  className=\"pointer\"\r\n                />\r\n                <PersonRemoveIcon\r\n                  onClick={async () => {\r\n                    deleteFriendAxios(uid);\r\n                    const updatedItems = [...items];\r\n                    delete updatedItems.find((a) => a.uid === uid).friend;\r\n                    setItems(updatedItems);\r\n                  }}\r\n                  titleAccess=\"Message\"\r\n                  className=\"pointer\"\r\n                />\r\n              </>\r\n            )}\r\n            {sendedRequest && (\r\n              <CancelScheduleSendIcon\r\n                titleAccess=\"Cancel friend request\"\r\n                onClick={async () => {\r\n                  cancelRequestAxios(uid);\r\n                  const updatedItems = [...items];\r\n                  delete updatedItems.find((a) => a.uid === uid).sendedRequest;\r\n                  setItems(updatedItems);\r\n                }}\r\n                className=\"pointer\"\r\n              />\r\n            )}\r\n            {toRequest && (\r\n              <>\r\n                <CheckCircleIcon\r\n                  titleAccess=\"Accept friend request\"\r\n                  className=\"pointer\"\r\n                  onClick={async () => {\r\n                    const {\r\n                      data: { data, error },\r\n                    } = await addFriendAxios(uid);\r\n                    if (error) alert(error);\r\n                    else if (data) {\r\n                      const updatedItems = [...items];\r\n                      const current = updatedItems.find((a) => a.uid === uid);\r\n\r\n                      delete current.toRequest;\r\n                      current.friend = true;\r\n\r\n                      setItems(updatedItems);\r\n                    }\r\n                  }}\r\n                />\r\n                <CancelIcon\r\n                  titleAccess=\"Reject friend request\"\r\n                  className=\"pointer\"\r\n                  onClick={async () => {\r\n                    cancelRecieveRequestAxios(uid);\r\n\r\n                    const updatedItems = [...items];\r\n                    const current = updatedItems.find((a) => a.uid === uid);\r\n\r\n                    delete current.toRequest;\r\n\r\n                    setItems(updatedItems);\r\n                  }}\r\n                />\r\n              </>\r\n            )}\r\n            {!(friend || sendedRequest || toRequest || me) && (\r\n              <PersonAddAlt1Icon\r\n                titleAccess=\"Send friend request\"\r\n                onClick={async () => {\r\n                  const {\r\n                    data: { data, error },\r\n                  } = await sendRequestAxios(uid);\r\n                  if (error) alert(error);\r\n                  if (data) {\r\n                    const updatedItems = [...items];\r\n                    updatedItems.find((a) => a.uid === uid).sendedRequest = true;\r\n                    setItems(updatedItems);\r\n                  }\r\n                }}\r\n                className=\"pointer\"\r\n              />\r\n            )}\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <Pagination\r\n        count={pages}\r\n        page={page}\r\n        onChange={(e, page) => {\r\n          setPage(page);\r\n          const pageurl = page > 1 ? `&page=${page}` : '';\r\n          history.push(`/search?value=${value}&category=${category}` + pageurl);\r\n        }}\r\n      />\r\n    </FlexColumns>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListSubheader from \"@mui/material/ListSubheader\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  Center,\r\n  FlexColumns,\r\n  noUnderlineBlack,\r\n} from \"../../../components/styledComponents\";\r\nimport Pagination from \"@mui/material/Pagination\";\r\nimport { queryParams } from \"../../../commont tools/url\";\r\nimport EmailIcon from \"@mui/icons-material/Email\";\r\nimport CancelScheduleSendIcon from \"@mui/icons-material/CancelScheduleSend\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport PersonAddAlt1Icon from \"@mui/icons-material/PersonAddAlt1\";\r\nimport PersonRemoveIcon from \"@mui/icons-material/PersonRemove\";\r\nimport {\r\n  addFriendAxios,\r\n  cancelRequestAxios,\r\n  deleteFriendAxios,\r\n  sendRequestAxios,\r\n} from \"../../../axios/users\";\r\nimport AssignmentIcon from \"@mui/icons-material/Assignment\";\r\n\r\nexport default function Users({\r\n  obj: { items, pages, page, setPage, setItems },\r\n}) {\r\n  let history = useHistory();\r\n  const { value, category, page: paramsPage = 1 } = queryParams();\r\n  console.log(items);\r\n  return (\r\n    <FlexColumns style={{ gap: 20, flex: 1 }}>\r\n      <List\r\n        sx={{ width: \"100%\", boxShadow: \"none!important\" }}\r\n        style={{ boxShadow: \"none!important\" }}\r\n        subheader={<ListSubheader>Posts</ListSubheader>}\r\n      >\r\n        {items.map(({ uid, description }, b) => (\r\n          <ListItem key={uid}>\r\n            <Link\r\n              style={{ width: \"100%\", ...noUnderlineBlack }}\r\n              to={`/post/${uid}`}\r\n            >\r\n              <Center>\r\n                <ListItemIcon style={{ minWidth: 40 }}>\r\n                  <AssignmentIcon />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  id=\"switch-list-label-wifi\"\r\n                  primary={description?.slice(0, 40)}\r\n                />\r\n              </Center>\r\n            </Link>\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n      <Pagination\r\n        count={pages}\r\n        page={page}\r\n        onChange={(e, page) => {\r\n          setPage(page);\r\n          const pageurl = page > 1 ? `&page=${page}` : \"\";\r\n          history.push(`/search?value=${value}&category=${category}` + pageurl);\r\n        }}\r\n      />\r\n    </FlexColumns>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  max-width: 1400px;\r\n  margin: -10px auto 0;\r\n`;\r\n\r\nexport const BgImage = styled.div`\r\n  height: 500px;\r\n  background-color: #a3a3a3;\r\n  position: relative;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n\r\n  & > svg {\r\n    position: absolute;\r\n    bottom: 36px;\r\n    right: 36px;\r\n    color: var(--blue);\r\n    background: white;\r\n    padding: 3px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 5px #00000036;\r\n    font-size: 30px;\r\n    cursor: pointer;\r\n    display: none;\r\n  }\r\n\r\n  & > svg:active {\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nexport const InnerContainer = styled.div`\r\n  padding: 15px 25px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const ProfileImage = styled.img`\r\n  border-radius: 50%;\r\n  margin-top: -75px;\r\n  height: 200px;\r\n  aspect-ratio: 1;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const ChangeMyAccountImg = styled.div`\r\n  position: relative;\r\n\r\n  & > svg {\r\n    position: absolute;\r\n    bottom: 36px;\r\n    right: 36px;\r\n    color: var(--blue);\r\n    background: white;\r\n    padding: 3px;\r\n    border-radius: 5px;\r\n    box-shadow: 0 0 5px #00000036;\r\n    font-size: 30px;\r\n    cursor: pointer;\r\n    display: none;\r\n  }\r\n\r\n  & > svg:active {\r\n    transform: scale(0.9);\r\n  }\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  }\r\n`;\r\n","export const toBase64 = (file) =>\r\n  new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = (error) => reject(error);\r\n  });\r\n","import axios from \"axios\";\r\n\r\nexport const getUserAlbumImagesFunc = () => axios.get(\"/userimages\");\r\n\r\nexport const uploadImageInUserAlbumFunc = (formData) =>\r\n  axios.post(\"/uploadimgs\", formData, {\r\n    withCredentials: true,\r\n  });\r\n\r\nexport const deleteUserAlbumImage = (name) =>\r\n  axios.delete(\"/userimage/\" + name);\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport Modal from \"./SimpleModal\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { PushRight } from \"./styledComponents\";\r\nimport { toBase64 } from \"../commont tools/img\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport ImgLoading from \"./imgs/ImgLoading\";\r\nimport {\r\n  deleteUserAlbumImage,\r\n  getUserAlbumImagesFunc,\r\n  uploadImageInUserAlbumFunc,\r\n} from \"../axios/album\";\r\n\r\nconst AlbumImg = styled.img`\r\n  width: 100%;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  filter: grayscale(0.4);\r\n  transition: 0.3s;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    filter: grayscale(0);\r\n  }\r\n`;\r\n\r\nconst AlbumImgsContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(114px, 1fr));\r\n  gap: 10px;\r\n`;\r\n\r\nexport default function Album({ open, setOpen, currentImage, onChooseImage }) {\r\n  const { user } = useSelector((state) => state);\r\n\r\n  const [images, setImages] = useState([]);\r\n  const [uploadImages, setUploadImages] = useState([]);\r\n  const fileLabel = useRef(null);\r\n\r\n  // Image modal\r\n  {\r\n    var [imgModalOpen, setImgModalOpen] = useState(false);\r\n\r\n    var imgModalOnSave = async () => {\r\n      const formData = new FormData();\r\n      for (let k of uploadImages) {\r\n        formData.append(\"images\", k.file);\r\n      }\r\n      const {\r\n        data: { data, error },\r\n      } = await uploadImageInUserAlbumFunc(formData);\r\n      if (error) alert(error);\r\n      else if (data) {\r\n        setImgModalOpen(false);\r\n        setImages(data);\r\n      }\r\n    };\r\n  }\r\n  {\r\n    var [deleteOpen, setDeleteOpen] = useState(false);\r\n    var [deleteUid, setDeleteUid] = useState(null);\r\n\r\n    var deleteOnSave = async () => {\r\n      const {\r\n        data: { data },\r\n      } = await deleteUserAlbumImage(images[deleteUid]);\r\n      if (data) setImages(data);\r\n      setDeleteOpen(false);\r\n    };\r\n  }\r\n\r\n  const fetchMyImages = async () => {\r\n    const {\r\n      data: { data, error },\r\n    } = await getUserAlbumImagesFunc();\r\n    if (error) alert(error);\r\n    else {\r\n      setImages(data);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fetchMyImages();\r\n  }, []);\r\n  return (\r\n    <Modal\r\n      open={open}\r\n      setOpen={setOpen}\r\n      successButton=\"\"\r\n      header=\"Your album\"\r\n      maxWidth=\"md\"\r\n      noBtns\r\n    >\r\n      <Modal\r\n        open={imgModalOpen}\r\n        setOpen={setImgModalOpen}\r\n        successButton=\"Upload\"\r\n        onSave={imgModalOnSave}\r\n        header=\"Uploaded images\"\r\n      >\r\n        <AlbumImgsContainer>\r\n          {uploadImages\r\n            .map((a) => a.img)\r\n            .map((a, b) => (\r\n              <div className=\"relative\" key={a + b}>\r\n                <DeleteIcon\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: \"3px\",\r\n                    right: \"4px\",\r\n                    cursor: \"pointer\",\r\n                    background: \"white\",\r\n                    boxShadow: \"rgb(0 0 0 / 32%) 0px 0px 4px\",\r\n                    borderRadius: \"5px\",\r\n                    padding: \"3px\",\r\n                    zIndex: \"1\",\r\n                  }}\r\n                  className=\"color-red\"\r\n                  onClick={() => {\r\n                    const newUploadImages = [...uploadImages].filter(\r\n                      (c, d) => d != b\r\n                    );\r\n                    setUploadImages(newUploadImages);\r\n                  }}\r\n                />\r\n                <AlbumImg key={a} src={a} />\r\n              </div>\r\n            ))}\r\n        </AlbumImgsContainer>\r\n      </Modal>\r\n      <Modal\r\n        open={deleteOpen}\r\n        setOpen={setDeleteOpen}\r\n        header=\"Delete image\"\r\n        onSave={deleteOnSave}\r\n      >\r\n        <AlbumImgsContainer>\r\n          <ImgLoading\r\n            src={\"/images/user/\" + user.uid + \"/\" + images[deleteUid]}\r\n            Element={AlbumImg}\r\n          />\r\n        </AlbumImgsContainer>\r\n      </Modal>\r\n      <div className=\"row\">\r\n        <label htmlFor=\"file\" ref={fileLabel}></label>\r\n        <input\r\n          id=\"file\"\r\n          type=\"file\"\r\n          multiple\r\n          onChange={async (e) => {\r\n            const newArr = [];\r\n            for (let k of [...e.target.files]) {\r\n              newArr.push({ file: k, img: await toBase64(k) });\r\n            }\r\n            setImgModalOpen(true);\r\n            setUploadImages(newArr);\r\n          }}\r\n          hidden\r\n        />\r\n        <PushRight>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"contained\"\r\n            onClick={() => {\r\n              fileLabel.current.click();\r\n            }}\r\n            style={{ backgroundColor: \"var(--blue)\", color: \"white\" }}\r\n          >\r\n            Upload image\r\n          </Button>\r\n        </PushRight>\r\n        <AlbumImgsContainer>\r\n          {images.map((a, b) => (\r\n            <div className=\"relative\" key={a + b}>\r\n              <DeleteIcon\r\n                style={{\r\n                  position: \"absolute\",\r\n                  top: \"3px\",\r\n                  right: \"4px\",\r\n                  cursor: \"pointer\",\r\n                  background: \"white\",\r\n                  boxShadow: \"rgb(0 0 0 / 32%) 0px 0px 4px\",\r\n                  borderRadius: \"5px\",\r\n                  padding: \"3px\",\r\n                  zIndex: \"1\",\r\n                }}\r\n                className=\"color-red\"\r\n                onClick={() => {\r\n                  setDeleteOpen(true);\r\n                  setDeleteUid(b);\r\n                }}\r\n              />\r\n              <AlbumImg\r\n                key={a}\r\n                onClick={() => {\r\n                  setOpen(false);\r\n                  onChooseImage(a);\r\n                }}\r\n                src={\"/images/user/\" + user.uid + \"/\" + a}\r\n              />\r\n            </div>\r\n          ))}\r\n        </AlbumImgsContainer>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n","import { TextField } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport { inputObjStateChange } from \"../../commont tools/other\";\r\nimport SimpleModal from \"../SimpleModal\";\r\nimport TextareaAutosize from \"@mui/material/TextareaAutosize\";\r\nimport Album from \"../Album\";\r\nimport ImgLoading from \"../imgs/ImgLoading\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {\r\n  deleteIconStyle,\r\n  Img,\r\n  ImgContainer,\r\n  moveIconStyle,\r\n} from \"./styledComponent\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport {\r\n  SortableContainer,\r\n  SortableElement,\r\n  SortableHandle,\r\n} from \"react-sortable-hoc\";\r\nimport { arrayMoveImmutable as arrayMove } from \"array-move\";\r\nimport MoveUpIcon from \"@mui/icons-material/MoveUp\";\r\n\r\nexport default function PostModal({\r\n  modalPostObj: {\r\n    modalPostOpen,\r\n    setModalPostOpen,\r\n    modalPostType,\r\n    setModalPostType,\r\n    modalPostData,\r\n    setModalPostData,\r\n    modalPostOnSave,\r\n  },\r\n}) {\r\n  const headers = {\r\n    create: \"Create post\",\r\n  };\r\n  const { user } = useSelector((state) => state);\r\n\r\n  const [albumOpen, setAlbumOpen] = useState(false);\r\n\r\n  const onChooseImage = (e) => {\r\n    setModalPostData((state) => ({\r\n      ...state,\r\n      images: [...state.images, user.uid + \"/\" + e],\r\n    }));\r\n  };\r\n\r\n  const onSortEnd = ({ oldIndex, newIndex }) => {\r\n    const newItems = arrayMove(modalPostData.images, oldIndex, newIndex);\r\n    setModalPostData((state) => ({ ...state, images: newItems }));\r\n  };\r\n\r\n  const RowHandler = SortableHandle(() => <MoveUpIcon style={moveIconStyle} />);\r\n\r\n  const SortableItem = SortableElement(({ value, indexx }) => {\r\n    return (\r\n      <div style={{ position: \"relative\", zIndex: 9999 }}>\r\n        <div className=\"relative\">\r\n          <RowHandler />\r\n          <DeleteIcon\r\n            style={deleteIconStyle}\r\n            onClick={() => {\r\n              const newImages = [...modalPostData.images].filter(\r\n                (a, b) => b != indexx\r\n              );\r\n              setModalPostData((state) => ({ ...state, images: newImages }));\r\n            }}\r\n          />\r\n          <Img src={\"/images/user/\" + value} />\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const SortableList = SortableContainer(({ items }) => {\r\n    return (\r\n      <ImgContainer>\r\n        {items.map((value, index) => (\r\n          <SortableItem\r\n            key={`item-${index}`}\r\n            index={index}\r\n            value={value}\r\n            indexx={index}\r\n          />\r\n        ))}\r\n      </ImgContainer>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <SimpleModal\r\n      open={modalPostOpen}\r\n      setOpen={setModalPostOpen}\r\n      header={headers[modalPostType]}\r\n      maxWidth=\"md\"\r\n      onSave={modalPostOnSave}\r\n    >\r\n      <TextareaAutosize\r\n        aria-label=\"minimum height\"\r\n        value={modalPostData.description}\r\n        onChange={(e) =>\r\n          inputObjStateChange(e, \"description\", setModalPostData)\r\n        }\r\n        minRows={3}\r\n        placeholder=\"Description\"\r\n        style={{\r\n          minHeight: 50,\r\n          maxHeight: 300,\r\n          overflow: \"auto!important\",\r\n          font: \"inherit\",\r\n          color: \"currentcolor\",\r\n          width: \"100%\",\r\n          margin: \"0px\",\r\n          display: \"block\",\r\n          minWidth: \"0px\",\r\n          background: \"none\",\r\n          animationName: \"mui-auto-fill-cancel\",\r\n          letterSpacing: \"inherit\",\r\n          animationDuration: \"10ms\",\r\n          border: \"1px solid rgb(196, 196, 196)\",\r\n          borderRadius: \"3px\",\r\n          padding: \"10px 14px\",\r\n          boxSizing: \"border-box\",\r\n          resize: \"vertical\",\r\n        }}\r\n      />\r\n      <p className=\"my-2 pointer\" onClick={() => setAlbumOpen(true)}>\r\n        Open album\r\n      </p>\r\n      <Album\r\n        open={albumOpen}\r\n        setOpen={setAlbumOpen}\r\n        onChooseImage={onChooseImage}\r\n      />\r\n      <SortableList\r\n        useDragHandle={true}\r\n        axis=\"xy\"\r\n        items={modalPostData.images}\r\n        onSortEnd={onSortEnd}\r\n      />\r\n    </SimpleModal>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\r\n\r\nexport default function PasswordInput({ ...props }) {\r\n  const [show, setShow] = useState(false);\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <TextField\r\n        type={show ? \"text\" : \"password\"}\r\n        id=\"outlined-basic\"\r\n        label=\"Password\"\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        fullWidth\r\n        {...props}\r\n      />\r\n      <span\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50%\",\r\n          right: \"5px\",\r\n          transform: \"translateY(-50%)\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={() => setShow(!show)}\r\n      >\r\n        {show ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport TextField from '@mui/material/TextField';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nconst style = {\r\n  display: '-webkit-inline-box',\r\n  display: '-webkit-inline-flex',\r\n  display: '-ms-inline-flexbox',\r\n  display: 'inline-flex',\r\n  '-webkit-align-items': 'center',\r\n  '-webkit-box-align': 'center',\r\n  '-ms-flex-align': 'center',\r\n  'align-items': 'center',\r\n  '-webkit-box-pack': 'center',\r\n  '-ms-flex-pack': 'center',\r\n  '-webkit-justify-content': 'center',\r\n  'justify-content': 'center',\r\n  position: 'relative',\r\n  'box-sizing': 'border-box',\r\n  '-webkit-tap-highlight-color': 'transparent',\r\n  'background-color': 'transparent',\r\n  outline: '0',\r\n  border: '0',\r\n  margin: '0',\r\n  'border-radius': '0',\r\n  padding: '0',\r\n  cursor: 'pointer',\r\n  '-webkit-user-select': 'none',\r\n  '-moz-user-select': 'none',\r\n  '-ms-user-select': 'none',\r\n  'user-select': 'none',\r\n  'vertical-align': 'middle',\r\n  '-moz-appearance': 'none',\r\n  '-webkit-appearance': 'none',\r\n  '-webkit-text-decoration': 'none',\r\n  'text-decoration': 'none',\r\n  color: 'inherit',\r\n  'font-family': `\"Roboto\",\"Helvetica\",\"Arial\",sans-serif\"`,\r\n  'font-weight': '400',\r\n  'font-size': '1rem',\r\n  'line-height': '1.5',\r\n  'letter-spacing': '0.00938em',\r\n  display: '-webkit-box',\r\n  display: '-webkit-flex',\r\n  display: '-ms-flexbox',\r\n  display: 'flex',\r\n  '-webkit-box-pack': 'start',\r\n  '-ms-flex-pack': 'start',\r\n  '-webkit-justify-content': 'flex-start',\r\n  'justify-content': 'flex-start',\r\n  '-webkit-align-items': 'center',\r\n  '-webkit-box-align': 'center',\r\n  '-ms-flex-align': 'center',\r\n  'align-items': 'center',\r\n  position: 'relative',\r\n  '-webkit-text-decoration': 'none',\r\n  'text-decoration': 'none',\r\n  'min-height': '48px',\r\n  'padding-top': '6px',\r\n  'padding-bottom': '6px',\r\n  'box-sizing': 'border-box',\r\n  'white-space': 'nowrap',\r\n  'padding-left': '16px',\r\n  'padding-right': '16px',\r\n};\r\n\r\nexport default function Select1({ current = '', onChange = () => {}, items, label = 'Select', ...props }) {\r\n  console.log(items);\r\n  return (\r\n    <TextField id=\"outlined-select-currency\" select label={label} value={current} onChange={onChange} {...props}>\r\n      {items.map((option) => (\r\n        <MenuItem key={option.value} value={option.value} className=\"menuitemselect\" style={style}>\r\n          {option.label}\r\n        </MenuItem>\r\n      ))}\r\n    </TextField>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Example1Con = styled.div`\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 4px rgb(0 0 0 / 10%), 0 8px 16px rgb(0 0 0 / 10%);\r\n  border-radius: 8px;\r\n  transition: 0.3s;\r\n`;\r\n\r\nexport const Div2Children = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 10px;\r\n`;\r\n","import React from \"react\";\r\nimport { Button, Divider } from \"@material-ui/core\";\r\nimport { TextField } from \"@mui/material\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { inputObjStateChange } from \"../../commont tools/other\";\r\nimport PasswordInput from \"../inputs/PasswordInput\";\r\nimport Select1 from \"../selects/Select1\";\r\nimport { Center, MUIButton } from \"../styledComponents\";\r\nimport { Div2Children, Example1Con } from \"./styledComponents\";\r\nimport { updateUserAxios } from \"../../axios/users\";\r\nimport { setUserFunc } from \"../../functions/auth\";\r\n\r\nexport default function SettingsFields() {\r\n  const { user } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [data, setData] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const tempUser = { ...user, oldPassword: \"\" };\r\n    delete tempUser.password;\r\n    tempUser.date = tempUser.date.slice(0, 10);\r\n\r\n    setData(tempUser);\r\n  }, [user]);\r\n\r\n  const genders = [\r\n    {\r\n      value: 4,\r\n      label: \"Not to choose\",\r\n    },\r\n    {\r\n      value: 1,\r\n      label: \"Male\",\r\n    },\r\n    {\r\n      value: 2,\r\n      label: \"Female\",\r\n    },\r\n    {\r\n      value: 3,\r\n      label: \"Dinosaur\",\r\n    },\r\n  ];\r\n  const save = async () => {\r\n    if (!data.oldPassword) return setError(\"Please enter old password\");\r\n    const {\r\n      data: { data: updatedUser, error },\r\n    } = await updateUserAxios(user.uid, data);\r\n    if (updatedUser) setUserFunc(dispatch, updatedUser);\r\n    else if (error) setError(error);\r\n  };\r\n\r\n  if (!data) return \"\";\r\n  return (\r\n    <Example1Con style={{ maxWidth: 500 }}>\r\n      <p className=\"color-red mb-3\">{error}</p>\r\n      <Div2Children style={{ gap: \"2px 10px\" }}>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Email\"\r\n          variant=\"outlined\"\r\n          type=\"email\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={data.email}\r\n          onChange={(e) =>\r\n            inputObjStateChange(\r\n              e,\r\n              \"email\",\r\n              setData,\r\n              () => setError(\"\"),\r\n              () => setError(\"\")\r\n            )\r\n          }\r\n        />\r\n        <PasswordInput\r\n          className=\"my-2\"\r\n          value={data.password}\r\n          onChange={(e) =>\r\n            inputObjStateChange(e, \"password\", setData, () => setError(\"\"))\r\n          }\r\n        />\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"First name\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={data.fName}\r\n          onChange={(e) =>\r\n            inputObjStateChange(e, \"fName\", setData, () => setError(\"\"))\r\n          }\r\n        />\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Last name\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={data.lName}\r\n          onChange={(e) =>\r\n            inputObjStateChange(e, \"lName\", setData, () => setError(\"\"))\r\n          }\r\n        />\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          type=\"date\"\r\n          label=\"Date\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={data.date}\r\n          onChange={(e) =>\r\n            inputObjStateChange(e, \"date\", setData, () => setError(\"\"))\r\n          }\r\n        />\r\n        <Select1\r\n          current={data.gender}\r\n          items={genders}\r\n          onChange={(e) =>\r\n            inputObjStateChange(e, \"gender\", setData, () => setError(\"\"))\r\n          }\r\n          size=\"small\"\r\n          className=\"my-2\"\r\n          label=\"Gender\"\r\n        />\r\n      </Div2Children>\r\n      <PasswordInput\r\n        label=\"Old password\"\r\n        className=\"my-2\"\r\n        value={data.oldPassword}\r\n        onChange={(e) =>\r\n          inputObjStateChange(e, \"oldPassword\", setData, () => setError(\"\"))\r\n        }\r\n      />\r\n      <Center>\r\n        <MUIButton onClick={save}>Save</MUIButton>\r\n      </Center>\r\n    </Example1Con>\r\n  );\r\n}\r\n","import ProtectedRoute from '../routeTypes/onAuth';\r\n\r\nimport Search from '../pages/onAuth/search';\r\nimport User from '../pages/onAuth/user';\r\nimport Post from '../pages/onAuth/post';\r\nimport Settings from '../pages/onAuth/settings';\r\nimport { Fragment } from 'react';\r\n\r\nconst routes = [\r\n  <ProtectedRoute exact path=\"/profile/:uid\" component={User} />,\r\n  <ProtectedRoute exact path=\"/search\" component={Search} />,\r\n  <ProtectedRoute exact path=\"/post/:uid\" component={Post} />,\r\n  <ProtectedRoute exact path=\"/settings\" component={Settings} />,\r\n];\r\n\r\nexport default routes;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  addFriendAxios,\r\n  cancelRequestAxios,\r\n  connectionToUser,\r\n  deleteFriendAxios,\r\n  getUserAxios,\r\n  sendRequestAxios,\r\n  updateUserAxios,\r\n} from '../../../axios/users';\r\nimport ImgLoading from '../../../components/imgs/ImgLoading';\r\nimport { FlexColumns, Flex, JustifySpaceBetweenAlignCenter, AlignCenter } from '../../../components/styledComponents';\r\nimport { BgImage, ChangeMyAccountImg, Container, InnerContainer, ProfileImage } from './styledComponent';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\r\nimport PersonAddAlt1Icon from '@mui/icons-material/PersonAddAlt1';\r\nimport CancelScheduleSendIcon from '@mui/icons-material/CancelScheduleSend';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport { Button } from '@material-ui/core';\r\nimport PostModal from '../../../components/post/PostModal';\r\nimport { createPostFunc, deletePostFunc, getPostsFunc, updatePostFunc } from '../../../axios/post';\r\nimport SinglePost from '../../../components/post/SinglePost';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteModal from '../../../components/post/DeleteModal';\r\nimport CameraAltIcon from '@mui/icons-material/CameraAlt';\r\nimport Album from '../../../components/Album';\r\nimport { useParams } from 'react-router';\r\nimport { addChatFunc, addPrivateChatFunc } from '../../../functions/chat';\r\n\r\nexport default function Index() {\r\n  const { uid } = useParams();\r\n  const { user, chats } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [currUser, setCurrUser] = useState(false);\r\n  const [connection, setConnection] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [posts, setPosts] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n\r\n  const [openAlbum, setOpenAlbum] = useState(false);\r\n  const [openAlbumType, setOpenAlbumType] = useState(null);\r\n\r\n  const albumChooseImage = async (e) => {\r\n    if (openAlbumType == 'profileImg') {\r\n      console.log(e);\r\n      const {\r\n        data: { data },\r\n      } = await updateUserAxios(uid, {\r\n        profileImage: e,\r\n      });\r\n      setCurrUser((state) => ({ ...state, ...data }));\r\n    } else if (openAlbumType == 'backgroundImg') {\r\n      const {\r\n        data: { data },\r\n      } = await updateUserAxios(uid, {\r\n        backgroundImage: currUser.uid + '/' + e,\r\n      });\r\n      setCurrUser((state) => ({ ...state, ...data }));\r\n    }\r\n  };\r\n\r\n  const fetchUser = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getUserAxios(uid);\r\n    if (data) {\r\n      setCurrUser(data);\r\n      if (data.uid == user.uid) setConnection('me');\r\n      else {\r\n        const { data: connection } = await connectionToUser(data.uid);\r\n        setConnection(connection);\r\n      }\r\n    } else setCurrUser(null);\r\n  };\r\n\r\n  const fetchPosts = async (userUid) => {\r\n    setLoaded(false);\r\n    const {\r\n      data: { data },\r\n    } = await getPostsFunc({ page, userUid, limit: 10 });\r\n    if (data) {\r\n      const { posts, pages } = data;\r\n\r\n      setPosts((state) => [...state, ...posts]);\r\n      setLoaded(true);\r\n    }\r\n  };\r\n\r\n  const modalPostDefaultData = {\r\n    description: '',\r\n    images: [],\r\n  };\r\n\r\n  const [modalPostOpen, setModalPostOpen] = useState(false);\r\n  const [modalPostType, setModalPostType] = useState('');\r\n  const [modalPostData, setModalPostData] = useState(modalPostDefaultData);\r\n\r\n  const modalPostOnSave = async () => {\r\n    setLoaded(false);\r\n    const { description, uid, images } = modalPostData;\r\n    if (!description) return;\r\n    if (modalPostType == 'create') {\r\n      const {\r\n        data: { data },\r\n      } = await createPostFunc(\r\n        {\r\n          description,\r\n          images,\r\n        },\r\n        { limit: page * 10 + 1 },\r\n      );\r\n      if (data) {\r\n        const { posts, pages } = data;\r\n        setPosts(posts);\r\n      }\r\n    } else if (modalPostType == 'update') {\r\n      const {\r\n        data: { data },\r\n      } = await updatePostFunc(\r\n        uid,\r\n        {\r\n          description,\r\n          images,\r\n        },\r\n        { returnPosts: 1, userUid: currUser.uid, limit: page * 10 },\r\n      );\r\n\r\n      if (data) {\r\n        const { posts, pages } = data;\r\n        setPosts(posts);\r\n      }\r\n    }\r\n\r\n    setModalPostOpen(false);\r\n  };\r\n\r\n  const modalPostObj = {\r\n    modalPostOpen,\r\n    setModalPostOpen,\r\n    modalPostType,\r\n    setModalPostType,\r\n    modalPostData,\r\n    setModalPostData,\r\n    modalPostOnSave,\r\n  };\r\n\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [deleteModalType, setDeleteModalType] = useState(false);\r\n  const [deleteModalData, setDeleteModalData] = useState({});\r\n\r\n  const deleteModalOnSave = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await deletePostFunc(deleteModalData.uid);\r\n    if (data) {\r\n      const { posts, pages } = data;\r\n      setPosts(posts);\r\n      setDeleteModalOpen(false);\r\n    }\r\n  };\r\n\r\n  const deleteModalObj = {\r\n    deleteModalOpen,\r\n    setDeleteModalOpen,\r\n    deleteModalType,\r\n    setDeleteModalType,\r\n    deleteModalData,\r\n    setDeleteModalData,\r\n    deleteModalOnSave,\r\n  };\r\n\r\n  window.onscroll = (a) => {\r\n    var body = document.body,\r\n      html = document.documentElement;\r\n\r\n    var height = Math.max(\r\n      body.scrollHeight,\r\n      body.offsetHeight,\r\n      html.clientHeight,\r\n      html.scrollHeight,\r\n      html.offsetHeight,\r\n    );\r\n\r\n    if (height - 100 <= window.scrollY + window.innerHeight) {\r\n      if (!loaded) return;\r\n      setPage((old) => old + 1);\r\n    }\r\n  };\r\n\r\n  const message = () => {\r\n    // addChatFunc(dispatch, chats, uid, currUser);\r\n    addPrivateChatFunc(uid, dispatch, chats, currUser.fName + ' ' + currUser.lName);\r\n  };\r\n\r\n  useEffect(async () => {\r\n    setPosts([]);\r\n    setPage(1);\r\n    fetchUser();\r\n  }, [uid, user]);\r\n\r\n  useEffect(async () => {\r\n    await fetchPosts(uid);\r\n  }, [page, uid]);\r\n\r\n  useEffect(() => {\r\n    setLoaded(true);\r\n  });\r\n\r\n  if (currUser == null) return 'Page is not avaible';\r\n  if (currUser == false) return 'Loading';\r\n  return (\r\n    <div style={{ marginTop: -9 }}>\r\n      <BgImage\r\n        style={{\r\n          backgroundImage: `url(/images/user/${currUser.backgroundImage})`,\r\n        }}\r\n      >\r\n        {connection == 'me' && (\r\n          <CameraAltIcon\r\n            onClick={() => {\r\n              setOpenAlbumType('backgroundImg');\r\n              setOpenAlbum(true);\r\n            }}\r\n          />\r\n        )}\r\n      </BgImage>\r\n      <Container>\r\n        <Album open={openAlbum} setOpen={setOpenAlbum} onChooseImage={albumChooseImage} />\r\n        <InnerContainer>\r\n          <JustifySpaceBetweenAlignCenter>\r\n            <Flex>\r\n              <ChangeMyAccountImg>\r\n                {connection == 'me' && (\r\n                  <CameraAltIcon\r\n                    onClick={() => {\r\n                      setOpenAlbumType('profileImg');\r\n                      setOpenAlbum(true);\r\n                    }}\r\n                  />\r\n                )}\r\n                <ImgLoading\r\n                  noImg=\"/images/other/noProfileImg.png\"\r\n                  Element={ProfileImage}\r\n                  src={'/images/user/' + currUser.uid + '/' + currUser.profileImage}\r\n                  loadingHeight={200}\r\n                  loadingWidth={200}\r\n                  loadingStyle={{ marginTop: -50 }}\r\n                />\r\n              </ChangeMyAccountImg>\r\n              <AlignCenter style={{ marginLeft: 20 }}>\r\n                <FlexColumns style={{ gap: 10 }}>\r\n                  <h2>{currUser.fName + ' ' + currUser.lName}</h2>\r\n                  <p>\r\n                    {currUser.friends} {currUser.friends > 1 ? 'Friends' : 'Friend'}\r\n                  </p>\r\n                </FlexColumns>\r\n              </AlignCenter>\r\n            </Flex>\r\n            <span>\r\n              {\r\n                {\r\n                  me: (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      onClick={() => {\r\n                        setModalPostData(modalPostDefaultData);\r\n                        setModalPostOpen(true);\r\n                        setModalPostType('create');\r\n                      }}\r\n                      style={{ backgroundColor: 'var(--blue)', color: 'white', position: 'initial' }}\r\n                    >\r\n                      Add post\r\n                    </Button>\r\n                  ),\r\n                  Friends: (\r\n                    <>\r\n                      <EmailIcon onClick={message} titleAccess=\"Message\" className=\"pointer\" />\r\n                      <PersonRemoveIcon\r\n                        onClick={async () => {\r\n                          deleteFriendAxios(uid);\r\n                          setConnection('No one');\r\n                        }}\r\n                        titleAccess=\"Message\"\r\n                        className=\"pointer\"\r\n                      />\r\n                    </>\r\n                  ),\r\n                  'No one': (\r\n                    <PersonAddAlt1Icon\r\n                      titleAccess=\"Send friend request\"\r\n                      onClick={async () => {\r\n                        const {\r\n                          data: { data, error },\r\n                        } = await sendRequestAxios(uid);\r\n                        if (error) alert(error);\r\n                        if (data) setConnection('Sender');\r\n                      }}\r\n                      className=\"pointer\"\r\n                    />\r\n                  ),\r\n                  Sender: (\r\n                    <CancelScheduleSendIcon\r\n                      titleAccess=\"Cancel friend request\"\r\n                      onClick={async () => {\r\n                        cancelRequestAxios(uid);\r\n                        setConnection('No one');\r\n                      }}\r\n                      className=\"pointer\"\r\n                    />\r\n                  ),\r\n                  Reciever: (\r\n                    <CheckCircleIcon\r\n                      titleAccess=\"Accept friend request\"\r\n                      className=\"pointer\"\r\n                      onClick={async () => {\r\n                        const {\r\n                          data: { data, error },\r\n                        } = await addFriendAxios(uid);\r\n                        if (error) alert(error);\r\n                        else if (data) setConnection('Friends');\r\n                      }}\r\n                    />\r\n                  ),\r\n                }[connection]\r\n              }\r\n            </span>\r\n          </JustifySpaceBetweenAlignCenter>\r\n        </InnerContainer>\r\n        {posts.map((a) => (\r\n          <SinglePost\r\n            key={a.uid}\r\n            post={{\r\n              ...a,\r\n              username: currUser.fName + ' ' + currUser.lName,\r\n              image: '/images/user/' + currUser.uid + '/' + currUser.profileImage,\r\n            }}\r\n            icons={\r\n              user.uid == currUser.uid || user.status == 2\r\n                ? [\r\n                    {\r\n                      icon: (\r\n                        <EditIcon\r\n                          style={{\r\n                            color: 'var(--blue)',\r\n                          }}\r\n                        />\r\n                      ),\r\n                      onClick: () => {\r\n                        let { description, images, uid } = a;\r\n                        images = images.map((a) => a.url);\r\n                        setModalPostData({ description, uid, images });\r\n                        setModalPostOpen(true);\r\n                        setModalPostType('update');\r\n                      },\r\n                    },\r\n                    {\r\n                      icon: (\r\n                        <DeleteIcon\r\n                          style={{ color: 'var(--red)' }}\r\n                          onClick={() => {\r\n                            let { description, uid } = a;\r\n                            setDeleteModalOpen(true);\r\n                            setDeleteModalData({\r\n                              uid,\r\n                              header: description.slice(0, 30),\r\n                            });\r\n                          }}\r\n                        />\r\n                      ),\r\n                    },\r\n                  ]\r\n                : []\r\n            }\r\n          />\r\n        ))}\r\n        <PostModal modalPostObj={modalPostObj} />\r\n        <DeleteModal deleteModalObj={deleteModalObj} />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { queryParams } from \"../../../commont tools/url\";\r\nimport { Flex } from \"../../../components/styledComponents\";\r\nimport Categories from \"./Categories\";\r\nimport Users from \"./Users\";\r\nimport Posts from \"./Posts\";\r\n\r\nexport default function Index(props) {\r\n  const { category, page: pageValue = 1 } = queryParams();\r\n  const [items, setItems] = useState([]);\r\n  const [pages, setPages] = useState([]);\r\n  const [page, setPage] = useState(+pageValue);\r\n\r\n  const itemsObj = {\r\n    items,\r\n    setItems,\r\n  };\r\n  const pagesObj = {\r\n    pages,\r\n    setPages,\r\n  };\r\n  const pageObj = {\r\n    page,\r\n    setPage,\r\n  };\r\n\r\n  const itemsAndPagesObj = {\r\n    ...itemsObj,\r\n    ...pagesObj,\r\n    ...pageObj,\r\n  };\r\n  return (\r\n    <Flex style={{ gap: 20 }}>\r\n      <Categories props={props} obj={itemsAndPagesObj} />\r\n      {\r\n        {\r\n          user: <Users obj={itemsAndPagesObj} />,\r\n          post: <Posts obj={itemsAndPagesObj} />,\r\n        }[category]\r\n      }\r\n    </Flex>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { getPostFunc } from '../../../axios/post';\r\nimport {\r\n  addFriendAxios,\r\n  cancelRequestAxios,\r\n  connectionToUser,\r\n  deleteFriendAxios,\r\n  getUserAxios,\r\n  sendRequestAxios,\r\n} from '../../../axios/users';\r\nimport ImgLoading from '../../../components/imgs/ImgLoading';\r\nimport { FlexColumns, Flex, JustifySpaceBetweenAlignCenter, AlignCenter } from '../../../components/styledComponents';\r\nimport { BgImage, Container, InnerContainer, ProfileImage } from '../user/styledComponent';\r\nimport EmailIcon from '@mui/icons-material/Email';\r\nimport PersonRemoveIcon from '@mui/icons-material/PersonRemove';\r\nimport PersonAddAlt1Icon from '@mui/icons-material/PersonAddAlt1';\r\nimport CancelScheduleSendIcon from '@mui/icons-material/CancelScheduleSend';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport { Button } from '@material-ui/core';\r\nimport PostModal from '../../../components/post/PostModal';\r\nimport { createPostFunc, deletePostFunc, getPostsFunc, updatePostFunc } from '../../../axios/post';\r\nimport SinglePost from '../../../components/post/SinglePost';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport DeleteModal from '../../../components/post/DeleteModal';\r\nimport { useParams } from 'react-router';\r\n\r\nexport default function Index(props) {\r\n  const { uid } = useParams();\r\n\r\n  const [post, setPost] = useState();\r\n  const [loaded, setLoaded] = useState(false);\r\n  const { user } = useSelector((state) => state);\r\n\r\n  //\r\n  const modalPostDefaultData = {\r\n    description: '',\r\n    images: [],\r\n  };\r\n\r\n  const [modalPostOpen, setModalPostOpen] = useState(false);\r\n  const [modalPostType, setModalPostType] = useState('');\r\n  const [modalPostData, setModalPostData] = useState(modalPostDefaultData);\r\n\r\n  const modalPostOnSave = async () => {\r\n    const { description, uid, images } = modalPostData;\r\n    if (!description) return;\r\n    if (modalPostType == 'update') {\r\n      const {\r\n        data: { data },\r\n      } = await updatePostFunc(\r\n        uid,\r\n        {\r\n          description,\r\n          images,\r\n        },\r\n        { returnPost: '1' },\r\n      );\r\n      if (data) {\r\n        setPost(data);\r\n      }\r\n    }\r\n\r\n    setModalPostOpen(false);\r\n  };\r\n\r\n  const modalPostObj = {\r\n    modalPostOpen,\r\n    setModalPostOpen,\r\n    modalPostType,\r\n    setModalPostType,\r\n    modalPostData,\r\n    setModalPostData,\r\n    modalPostOnSave,\r\n  };\r\n\r\n  const [deleteModalOpen, setDeleteModalOpen] = useState(false);\r\n  const [deleteModalType, setDeleteModalType] = useState(false);\r\n  const [deleteModalData, setDeleteModalData] = useState({});\r\n\r\n  const deleteModalOnSave = async () => {\r\n    deletePostFunc(deleteModalData.uid);\r\n    setPost(undefined);\r\n  };\r\n\r\n  const deleteModalObj = {\r\n    deleteModalOpen,\r\n    setDeleteModalOpen,\r\n    deleteModalType,\r\n    setDeleteModalType,\r\n    deleteModalData,\r\n    setDeleteModalData,\r\n    deleteModalOnSave,\r\n  };\r\n\r\n  const postPost = async () => {\r\n    const {\r\n      data: { data },\r\n    } = await getPostFunc(uid);\r\n    setLoaded(true);\r\n    if (data) {\r\n      setPost(data);\r\n    }\r\n  };\r\n  //\r\n\r\n  useEffect(() => {\r\n    postPost();\r\n  }, [uid]);\r\n  if (!loaded) return 'Loading';\r\n  if (!post) return \"Post doesn't exist\";\r\n  return (\r\n    <div>\r\n      <SinglePost\r\n        post={{\r\n          ...post,\r\n          username: post.name,\r\n          image: '/images/user/' + post.userUid + '/' + post.profileImage,\r\n        }}\r\n        icons={\r\n          user.uid == post.userUid || user.status == 2\r\n            ? [\r\n                {\r\n                  icon: (\r\n                    <EditIcon\r\n                      style={{\r\n                        color: 'var(--blue)',\r\n                      }}\r\n                    />\r\n                  ),\r\n                  onClick: () => {\r\n                    let { description, images, uid } = post;\r\n                    images = images.map((a) => a.url);\r\n                    setModalPostData({ description, uid, images });\r\n                    setModalPostOpen(true);\r\n                    setModalPostType('update');\r\n                  },\r\n                },\r\n                {\r\n                  icon: (\r\n                    <DeleteIcon\r\n                      style={{ color: 'var(--red)' }}\r\n                      onClick={() => {\r\n                        let { description, uid } = post;\r\n                        setDeleteModalOpen(true);\r\n                        setDeleteModalData({\r\n                          uid,\r\n                          header: description.slice(0, 30),\r\n                        });\r\n                      }}\r\n                    />\r\n                  ),\r\n                },\r\n              ]\r\n            : []\r\n        }\r\n      />\r\n      <PostModal modalPostObj={modalPostObj} />\r\n      <DeleteModal deleteModalObj={deleteModalObj} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport SettingsFields from \"../../../components/auth/SettingsFields\";\r\nimport { FullScreenCenter } from \"../../../components/styledComponents\";\r\n\r\nexport default function Index() {\r\n  return (\r\n    <FullScreenCenter>\r\n      <SettingsFields />\r\n    </FullScreenCenter>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Example1Con } from \"../styledComponents\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport PasswordInput from \"../../inputs/PasswordInput\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Center } from \"../../styledComponents\";\r\nimport { inputObjStateChange } from \"../../../commont tools/other\";\r\nimport { signInFunc } from \"../../../functions/auth\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function AuthExample1({ setIndex }) {\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n  const signIn = async () => {\r\n    const { error } = await signInFunc(dispatch, form);\r\n    if (error) setError(error);\r\n  };\r\n  return (\r\n    <>\r\n      <p className=\"mb-2\" style={{ color: \"var(--red)\" }}>\r\n        {error}\r\n      </p>\r\n      <TextField\r\n        id=\"outlined-basic\"\r\n        label=\"Email\"\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        fullWidth\r\n        className=\"my-2\"\r\n        value={form.email}\r\n        onChange={(e) => inputObjStateChange(e, \"email\", setForm)}\r\n      />\r\n      <PasswordInput\r\n        className=\"my-2\"\r\n        value={form.password}\r\n        onChange={(e) => inputObjStateChange(e, \"password\", setForm)}\r\n      />\r\n      <span className=\"mb-2 pointer block\" onClick={() => setIndex(1)}>\r\n        Don't have an account?\r\n      </span>\r\n      <Center>\r\n        <Button variant=\"contained\" onClick={signIn}>\r\n          Sign in\r\n        </Button>\r\n      </Center>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Div2Children, Example1Con } from \"../styledComponents\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport PasswordInput from \"../../inputs/PasswordInput\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Center } from \"../../styledComponents\";\r\nimport {\r\n  inputObjStateChange,\r\n  objStateChange,\r\n} from \"../../../commont tools/other\";\r\nimport { signInFunc, signUpFunc } from \"../../../functions/auth\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { beautyDate } from \"../../../commont tools/beauty\";\r\nimport Select1 from \"../../selects/Select1\";\r\nimport { objNotEmpty } from \"../../../commont tools/obj\";\r\n\r\nexport default function AuthExample1({ setIndex }) {\r\n  const dispatch = useDispatch();\r\n  const [form, setForm] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    date: beautyDate(new Date()),\r\n    gender: \"\",\r\n    fName: \"\",\r\n    lName: \"\",\r\n  });\r\n\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const genders = [\r\n    {\r\n      value: 4,\r\n      label: \"Not to choose\",\r\n    },\r\n    {\r\n      value: 1,\r\n      label: \"Male\",\r\n    },\r\n    {\r\n      value: 2,\r\n      label: \"Female\",\r\n    },\r\n    {\r\n      value: 3,\r\n      label: \"Dinosaur\",\r\n    },\r\n  ];\r\n  console.log(form);\r\n  const signUp = async () => {\r\n    if (objNotEmpty(form)) {\r\n      const { error } = await signUpFunc(dispatch, form);\r\n      if (error) setError(error?.sqlMessage || error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <p className=\"mb-2\" style={{ color: \"var(--red)\" }}>\r\n        {error}\r\n      </p>\r\n      <Div2Children>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Email\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={form.email}\r\n          onChange={(e) => inputObjStateChange(e, \"email\", setForm)}\r\n        />\r\n        <PasswordInput\r\n          className=\"my-2\"\r\n          value={form.password}\r\n          onChange={(e) => inputObjStateChange(e, \"password\", setForm)}\r\n        />\r\n      </Div2Children>\r\n      <Div2Children>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"First name\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={form.fName}\r\n          onChange={(e) => inputObjStateChange(e, \"fName\", setForm)}\r\n        />\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          label=\"Last name\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={form.lName}\r\n          onChange={(e) => inputObjStateChange(e, \"lName\", setForm)}\r\n        />\r\n      </Div2Children>\r\n      <Div2Children>\r\n        <TextField\r\n          id=\"outlined-basic\"\r\n          type=\"date\"\r\n          label=\"Email\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          fullWidth\r\n          className=\"my-2\"\r\n          value={form.date}\r\n          onChange={(e) => inputObjStateChange(e, \"date\", setForm)}\r\n        />\r\n        <Select1\r\n          current={form.gender}\r\n          items={genders}\r\n          onChange={(e) => inputObjStateChange(e, \"gender\", setForm)}\r\n          size=\"small\"\r\n          className=\"my-2\"\r\n        />\r\n      </Div2Children>\r\n      <span className=\"mb-2 pointer block\" onClick={() => setIndex(0)}>\r\n        Already have an account?\r\n      </span>\r\n      <Center>\r\n        <Button variant=\"contained\" onClick={signUp}>\r\n          Sign up\r\n        </Button>\r\n      </Center>\r\n    </>\r\n  );\r\n}\r\n","export const objNotEmpty = (obj) => Object.values(obj).every((a) => a);\r\n","import React, { useState } from \"react\";\r\nimport { Example1Con } from \"../styledComponents\";\r\nimport SignIn from \"./SignIn\";\r\nimport SignUp from \"./SignUp\";\r\nexport default function AuthExample1() {\r\n  const [index, setIndex] = useState(0);\r\n  var maxWidth = 350;\r\n  if (index == 1) maxWidth = 500;\r\n  return (\r\n    <Example1Con style={{ maxWidth }}>\r\n      {\r\n        {\r\n          0: <SignIn setIndex={setIndex} />,\r\n          1: <SignUp setIndex={setIndex} />,\r\n        }[index]\r\n      }\r\n    </Example1Con>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport AuthExample1 from \"../../../components/auth/authExample1/AuthExample1\";\r\nimport { FullScreenCenter } from \"../../../components/styledComponents\";\r\n\r\nexport default function NotLogined() {\r\n  return (\r\n    <FullScreenCenter>\r\n      <AuthExample1 />\r\n    </FullScreenCenter>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from 'react-router-dom';\nimport { setUserFunc } from './functions/auth';\nimport _default from './routes/default';\nimport onAuth from './routes/onAuth';\nimport Main from './pages/default/main';\nimport ProtectedRouteOnAuth from './routeTypes/onAuth';\nimport NotLogined from './pages/default/main/NotLogined';\nimport Settings from './pages/onAuth/settings';\nimport { removeChats } from './functions/chat';\n\nimport { Prompt } from 'react-router';\nconst Tazo = () => {\n  const history = useHistory();\n  const redirect = () => {\n    history.push('/');\n  };\n  return (\n    <div>\n      <Prompt when={true} message=\"You have unsaved changes, are you sure you want to leave?\" />\n      <Link to=\"/\">tazo</Link>\n      <button onClick={redirect}>go to main</button>\n    </div>\n  );\n};\n\nfunction App() {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => state);\n\n  useEffect(() => {\n    setUserFunc(dispatch);\n  }, []);\n  useEffect(() => {\n    if (!user) removeChats(dispatch);\n  }, [user]);\n\n  return (\n    <Router>\n      <Switch>\n        {user ? (\n          <ProtectedRouteOnAuth exact path=\"/\" component={Main} />\n        ) : user != false ? (\n          <Route exact path=\"/\" component={NotLogined} />\n        ) : (\n          ''\n        )}\n        {_default} {onAuth}\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialState = {\r\n  user: false,\r\n  chats: [],\r\n  navbarMessages: [],\r\n};\r\n\r\nconst reducer = (state = initialState, { payload, type }) => {\r\n  switch (type) {\r\n    case 'setUser':\r\n      return { ...state, user: payload };\r\n    case 'ADD_CHAT':\r\n      return { ...state, chats: [payload, ...state.chats] };\r\n    case 'REMOVE_CHATS':\r\n      return { ...state, chats: [] };\r\n    case 'CLOSE_CHAT':\r\n      return { ...state, chats: state.chats.filter((a) => a.uid != payload) };\r\n    case 'MINIMIZE_CHAT':\r\n      return { ...state, chats: state.chats.map((a) => (a.uid != payload ? a : { ...a, open: !a.open })) };\r\n    case 'UPDATE_NAVBAR_MESSAGES':\r\n      return { ...state, navbarMessages: payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport auth from './reducer/auth';\n\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\n\n// const combinedReduces = combineReducers({\n//   auth,\n// });\n// const store = createStore(combinedReduces);\n\nconst store = createStore(auth);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}